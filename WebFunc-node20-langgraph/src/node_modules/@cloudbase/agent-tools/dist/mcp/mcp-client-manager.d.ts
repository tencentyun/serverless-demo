/**
 * MCP Client Manager
 *
 * Manages connections to external MCP servers and provides tools from those servers
 */
import { Client } from "@modelcontextprotocol/sdk/client/index.js";
import { Tool as MCPTool } from "@modelcontextprotocol/sdk/types.js";
import { MCPClientTool } from "./client-tool";
import { MCPClientConfig, MCPEventListener, MCPConnectionOptions, MCPClientStatus } from "./types";
/**
 * MCP Client Manager - manages connections to external MCP servers
 */
export declare class MCPClientManager {
    clients: Map<string, Client<{
        method: string;
        params?: {
            [x: string]: unknown;
            task?: {
                [x: string]: unknown;
                ttl?: number;
                pollInterval?: number;
            };
            _meta?: {
                [x: string]: unknown;
                progressToken?: string | number;
                "io.modelcontextprotocol/related-task"?: {
                    [x: string]: unknown;
                    taskId: string;
                };
            };
        };
    }, {
        method: string;
        params?: {
            [x: string]: unknown;
            _meta?: {
                [x: string]: unknown;
                "io.modelcontextprotocol/related-task"?: {
                    [x: string]: unknown;
                    taskId: string;
                };
            };
        };
    }, {
        [x: string]: unknown;
        _meta?: {
            [x: string]: unknown;
            "io.modelcontextprotocol/related-task"?: {
                [x: string]: unknown;
                taskId: string;
            };
        };
    }>>;
    private transports;
    private connections;
    private availableTools;
    private eventListeners;
    private connectionOptions;
    private serverStatus;
    private reconnectTimers;
    private heartbeatTimers;
    /**
     * Add a new MCP server connection
     */
    addServer(serverId: string, config: MCPClientConfig, connectionOptions?: MCPConnectionOptions): Promise<void>;
    /**
     * Connect to a specific server
     */
    private connectServer;
    /**
     * Create transport instance based on configuration
     */
    private createTransport;
    /**
     * Load tools from a specific server
     */
    private loadServerTools;
    /**
     * Get all available tools from all connected servers
     */
    getAllTools(serverId?: string): Array<{
        serverId: string;
        tool: MCPTool;
    }>;
    /**
     * Get tools from a specific server
     */
    getServerTools(serverId: string): MCPTool[];
    /**
     * Create MCPClientTool instances for all available tools
     */
    createClientTools(serverId?: string): MCPClientTool[];
    /**
     * Create a specific client tool
     */
    createClientTool(serverId: string, toolName: string, agKitToolName?: string): MCPClientTool;
    /**
     * Call a tool on a specific server
     */
    callTool(serverId: string, toolName: string, args: any): Promise<any>;
    /**
     * Disconnect from a specific server
     */
    disconnectServer(serverId: string): Promise<void>;
    /**
     * Disconnect from all servers
     */
    disconnectAll(): Promise<void>;
    /**
     * Refresh connections and reload tools
     */
    refresh(): Promise<void>;
    /**
     * Check if a server is connected
     */
    isServerConnected(serverId: string): boolean;
    /**
     * Get connection status for all servers
     */
    getConnectionStatus(): Record<string, boolean>;
    /**
     * Add event listener
     */
    addEventListener(listener: MCPEventListener): void;
    /**
     * Remove event listener
     */
    removeEventListener(listener: MCPEventListener): boolean;
    /**
     * Emit event to all listeners
     */
    private emit;
    /**
     * Get statistics
     */
    getStats(): {
        connectedServers: number;
        totalTools: number;
        serverStatus: Record<string, boolean>;
    };
    /**
     * Set up heartbeat to keep connection alive
     */
    private setupHeartbeat;
    /**
     * Schedule automatic reconnection
     */
    private scheduleReconnect;
    /**
     * Manually reconnect to a specific server
     */
    reconnectServer(serverId: string): Promise<void>;
    /**
     * Handle errors and update status
     */
    private handleError;
    /**
     * Clean up server resources
     */
    private cleanupServer;
    /**
     * Get server status
     */
    getServerStatus(serverId: string): MCPClientStatus | undefined;
    /**
     * Get all server statuses
     */
    getAllServerStatuses(): Record<string, MCPClientStatus>;
}
//# sourceMappingURL=mcp-client-manager.d.ts.map