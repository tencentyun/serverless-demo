{"version":3,"file":"todoListMiddleware.d.cts","names":["_langchain_core_tools9","__types_js12","z","Command","ToolMessage","TODO_LIST_MIDDLEWARE_SYSTEM_PROMPT","stateSchema","ZodString","ZodEnum","ZodTypeAny","ZodObject","ZodArray","ZodDefault","TodoMiddlewareState","infer","TodoListMiddlewareOptions","todoListMiddleware","_langchain_core_messages26","MessageToolSet","MessageStructure","DynamicStructuredTool","AgentMiddleware"],"sources":["../../../src/agents/middleware/todoListMiddleware.d.ts"],"sourcesContent":["import { z } from \"zod/v3\";\nimport { Command } from \"@langchain/langgraph\";\nimport { ToolMessage } from \"@langchain/core/messages\";\nexport declare const TODO_LIST_MIDDLEWARE_SYSTEM_PROMPT = \"## `write_todos`\\n\\nYou have access to the `write_todos` tool to help you manage and plan complex objectives. \\nUse this tool for complex objectives to ensure that you are tracking each necessary step and giving the user visibility into your progress.\\nThis tool is very helpful for planning complex objectives, and for breaking down these larger complex objectives into smaller steps.\\n\\nIt is critical that you mark todos as completed as soon as you are done with a step. Do not batch up multiple steps before marking them as completed.\\nFor simple objectives that only require a few steps, it is better to just complete the objective directly and NOT use this tool.\\nWriting todos takes time and tokens, use it when it is helpful for managing complex many-step problems! But not for simple few-step requests.\\n\\n## Important To-Do List Usage Notes to Remember\\n- The `write_todos` tool should never be called multiple times in parallel.\\n- Don't be afraid to revise the To-Do list as you go. New information may reveal new tasks that need to be done, or old tasks that are irrelevant.\";\ndeclare const stateSchema: z.ZodObject<{\n    todos: z.ZodDefault<z.ZodArray<z.ZodObject<{\n        content: z.ZodString;\n        status: z.ZodEnum<[\"pending\", \"in_progress\", \"completed\"]>;\n    }, \"strip\", z.ZodTypeAny, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }>, \"many\">>;\n}, \"strip\", z.ZodTypeAny, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}, {\n    todos?: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[] | undefined;\n}>;\nexport type TodoMiddlewareState = z.infer<typeof stateSchema>;\nexport interface TodoListMiddlewareOptions {\n    /**\n     * Custom system prompt to guide the agent on using the todo tool.\n     * If not provided, uses the default {@link PLANNING_MIDDLEWARE_SYSTEM_PROMPT}.\n     */\n    systemPrompt?: string;\n    /**\n     * Custom description for the {@link writeTodos} tool.\n     * If not provided, uses the default {@link WRITE_TODOS_DESCRIPTION}.\n     */\n    toolDescription?: string;\n}\n/**\n * Creates a middleware that provides todo list management capabilities to agents.\n *\n * This middleware adds a `write_todos` tool that allows agents to create and manage\n * structured task lists for complex multi-step operations. It's designed to help\n * agents track progress, organize complex tasks, and provide users with visibility\n * into task completion status.\n *\n * The middleware automatically injects system prompts that guide the agent on when\n * and how to use the todo functionality effectively. It also enforces that the\n * `write_todos` tool is called at most once per model turn, since the tool replaces\n * the entire todo list and parallel calls would create ambiguity about precedence.\n *\n * @example\n * ```typescript\n * import { todoListMiddleware, createAgent } from 'langchain';\n *\n * const agent = createAgent({\n *   model: \"openai:gpt-4o\",\n *   middleware: [todoListMiddleware()],\n * });\n *\n * // Agent now has access to write_todos tool and todo state tracking\n * const result = await agent.invoke({\n *   messages: [new HumanMessage(\"Help me refactor my codebase\")]\n * });\n *\n * console.log(result.todos); // Array of todo items with status tracking\n * ```\n *\n * @returns A configured middleware instance that provides todo management capabilities\n *\n * @see {@link TodoMiddlewareState} for the state schema\n * @see {@link writeTodos} for the tool implementation\n */\nexport declare function todoListMiddleware(options?: TodoListMiddlewareOptions): import(\"./types.js\").AgentMiddleware<z.ZodObject<{\n    todos: z.ZodDefault<z.ZodArray<z.ZodObject<{\n        content: z.ZodString;\n        status: z.ZodEnum<[\"pending\", \"in_progress\", \"completed\"]>;\n    }, \"strip\", z.ZodTypeAny, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }>, \"many\">>;\n}, \"strip\", z.ZodTypeAny, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}, {\n    todos?: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[] | undefined;\n}>, undefined, unknown, readonly [import(\"@langchain/core/tools\").DynamicStructuredTool<z.ZodObject<{\n    todos: z.ZodArray<z.ZodObject<{\n        content: z.ZodString;\n        status: z.ZodEnum<[\"pending\", \"in_progress\", \"completed\"]>;\n    }, \"strip\", z.ZodTypeAny, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }, {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }>, \"many\">;\n}, \"strip\", z.ZodTypeAny, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}>, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n}, Command<unknown, {\n    todos: {\n        content: string;\n        status: \"completed\" | \"in_progress\" | \"pending\";\n    }[];\n    messages: ToolMessage<import(\"@langchain/core/messages\").MessageStructure<import(\"@langchain/core/messages\").MessageToolSet>>[];\n}, string>, \"write_todos\">]>;\nexport {};\n//# sourceMappingURL=todoListMiddleware.d.ts.map"],"mappings":";;;;;;;;cAGqBK,kCAAAA;AA4F8EY,UApElFF,yBAAAA,CAwGgGG;EAAcD;;;;;EAzDV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBAA7FD,kBAAAA,WAA6BD,4CAAiEb,CAAAA,CAAEQ;SAC7GR,CAAAA,CAAEU,WAAWV,CAAAA,CAAES,SAAST,CAAAA,CAAEQ;aACpBR,CAAAA,CAAEK;YACHL,CAAAA,CAAEM;cACFN,CAAAA,CAAEO;;;;;;;YAONP,CAAAA,CAAEO;;;;;;;;;;kCAyCJT,sBAAAA,CA/BwDoB,sBAAsBlB,CAAAA,CAAEQ;SAC/ER,CAAAA,CAAES,SAAST,CAAAA,CAAEQ;aACPR,CAAAA,CAAEK;YACHL,CAAAA,CAAEM;cACFN,CAAAA,CAAEO;;;;;;;YAONP,CAAAA,CAAEO;;;;;;;;;;;;;;;;;;;;GAoBXN;;;;;YAKWC,YAAiHa,0BAAAA,CAAlEE,iBApCsCF,0BAAAA,CAoCcC,cAAAA"}