{"version":3,"file":"runtime.d.ts","names":["InteropZodOptional","InteropZodDefault","Runtime","LangGraphRuntime","PregelOptions","StreamMode","BaseMessage","BaseCallbackConfig","ResponseFormatUndefined","AgentBuiltInState","Record","IsOptionalZodObject","T","IsDefaultZodObject","WithMaybeContext","TContext","Omit","Partial","InternalAgentState","StructuredResponseType","IsOptionalType","ExtractNonUndefined","IsAllOptional","CreateAgentPregelOptions","CreateAgentPregelStreamOptions","InvokeConfiguration","ContextSchema","Pick","StreamConfiguration","TStreamMode","TEncoding"],"sources":["../../src/agents/runtime.d.ts"],"sourcesContent":["import type { InteropZodOptional } from \"@langchain/core/utils/types\";\nimport type { InteropZodDefault } from \"@langchain/core/utils/types\";\nimport type { Runtime as LangGraphRuntime, PregelOptions, StreamMode } from \"@langchain/langgraph\";\nimport type { BaseMessage } from \"@langchain/core/messages\";\nimport type { BaseCallbackConfig } from \"@langchain/core/callbacks/manager\";\nimport type { ResponseFormatUndefined } from \"./responses.js\";\n/**\n * Type for the agent's built-in state properties.\n */\nexport type AgentBuiltInState = {\n    /**\n     * Array of messages representing the conversation history.\n     *\n     * This includes all messages exchanged during the agent's execution:\n     * - Human messages: Input from the user\n     * - AI messages: Responses from the language model\n     * - Tool messages: Results from tool executions\n     * - System messages: System-level instructions or information\n     *\n     * Messages are accumulated throughout the agent's lifecycle and can be\n     * accessed or modified by middleware hooks during execution.\n     */\n    messages: BaseMessage[];\n    /**\n     * Structured response data returned by the agent when a `responseFormat` is configured.\n     *\n     * This property is only populated when you provide a `responseFormat` schema\n     * (as Zod or JSON schema) to the agent configuration. The agent will format\n     * its final output to match the specified schema and store it in this property.\n     *\n     * Note: The type is specified as `Record<string, unknown>` because TypeScript cannot\n     * infer the actual response format type in contexts like middleware, where the agent's\n     * generic type parameters are not accessible. You may need to cast this to your specific\n     * response type when accessing it.\n     */\n    structuredResponse?: Record<string, unknown>;\n};\n/**\n * Type helper to check if TContext is an optional Zod schema\n */\ntype IsOptionalZodObject<T> = T extends InteropZodOptional<any> ? true : false;\ntype IsDefaultZodObject<T> = T extends InteropZodDefault<any> ? true : false;\nexport type WithMaybeContext<TContext> = undefined extends TContext ? {\n    readonly context?: TContext;\n} : IsOptionalZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : IsDefaultZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : {\n    readonly context: TContext;\n};\n/**\n * Runtime information available to middleware (readonly).\n */\nexport type Runtime<TContext = unknown> = Partial<Omit<LangGraphRuntime<TContext>, \"context\" | \"configurable\">> & WithMaybeContext<TContext> & {\n    configurable?: {\n        thread_id?: string;\n        [key: string]: unknown;\n    };\n};\nexport type InternalAgentState<StructuredResponseType extends Record<string, unknown> | undefined = Record<string, unknown>> = {\n    messages: BaseMessage[];\n} & (StructuredResponseType extends ResponseFormatUndefined ? Record<string, never> : {\n    structuredResponse: StructuredResponseType;\n});\n/**\n * Helper type to check if a type is optional (includes undefined)\n */\ntype IsOptionalType<T> = undefined extends T ? true : false;\n/**\n * Extract non-undefined part of a union that includes undefined\n */\ntype ExtractNonUndefined<T> = T extends undefined ? never : T;\n/**\n * Helper type to check if all properties of a type are optional\n */\nexport type IsAllOptional<T> = undefined extends T ? true : IsOptionalType<T> extends true ? true : ExtractNonUndefined<T> extends Record<string, any> ? {} extends ExtractNonUndefined<T> ? true : false : IsOptionalType<T>;\n/**\n * Pregel options that are propagated to the agent\n */\ntype CreateAgentPregelOptions = \"configurable\" | \"durability\" | \"store\" | \"cache\" | \"signal\" | \"recursionLimit\" | \"maxConcurrency\" | \"timeout\" | \"callbacks\";\n/**\n * Pregel stream options that are propagated to the agent\n */\ntype CreateAgentPregelStreamOptions = \"encoding\" | \"streamMode\";\n/**\n * Decide whether provided configuration requires a context\n */\nexport type InvokeConfiguration<ContextSchema extends Record<string, any>> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & WithMaybeContext<ContextSchema>;\nexport type StreamConfiguration<ContextSchema extends Record<string, any>, TStreamMode extends StreamMode | StreamMode[] | undefined, TEncoding extends \"text/event-stream\" | undefined> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & {\n    context?: Partial<ContextSchema>;\n} : Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & WithMaybeContext<ContextSchema>;\nexport {};\n//# sourceMappingURL=runtime.d.ts.map"],"mappings":"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"}