{"version":3,"file":"meterProviderModel.js","sourceRoot":"","sources":["../../../src/models/meterProviderModel.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;AACH,YAAY,CAAC;;;AAQb,SAAgB,2CAA2C;IACzD,OAAO;QACL,OAAO,EAAE,EAAE;QACX,eAAe,EAAE,cAAc,CAAC,UAAU;KAC3C,CAAC;AACJ,CAAC;AALD,kGAKC;AAuBD,IAAY,cAIX;AAJD,WAAY,cAAc;IACxB,0CAAwB,CAAA;IACxB,wCAAsB,CAAA;IACtB,4CAA0B,CAAA;AAC5B,CAAC,EAJW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAIzB;AAsWD,IAAY,6BAIX;AAJD,WAAY,6BAA6B;IACvC,0DAAyB,CAAA;IACzB,gDAAe,CAAA;IACf,yDAAwB,CAAA;AAC1B,CAAC,EAJW,6BAA6B,GAA7B,qCAA6B,KAA7B,qCAA6B,QAIxC;AAED,IAAY,mCAGX;AAHD,WAAY,mCAAmC;IAC7C,6GAAsE,CAAA;IACtE,4FAAqD,CAAA;AACvD,CAAC,EAHW,mCAAmC,GAAnC,2CAAmC,KAAnC,2CAAmC,QAG9C;AAsDD,IAAY,cAQX;AARD,WAAY,cAAc;IACxB,qCAAmB,CAAA;IACnB,iCAAe,CAAA;IACf,yCAAuB,CAAA;IACvB,0DAAwC,CAAA;IACxC,sDAAoC,CAAA;IACpC,wEAAsD,CAAA;IACtD,mDAAiC,CAAA;AACnC,CAAC,EARW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAQzB","sourcesContent":["/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nimport {\n  IncludeExclude,\n  NameStringValuePair,\n  OtlpHttpEncoding,\n} from './commonModel';\n\nexport function initializeDefaultMeterProviderConfiguration(): MeterProvider {\n  return {\n    readers: [],\n    exemplar_filter: ExemplarFilter.TraceBased,\n  };\n}\n\nexport interface MeterProvider {\n  /**\n   * Configure metric readers.\n   */\n  readers: MetricReader[];\n\n  /**\n   * Configure views.\n   * Each view has a selector which determines the instrument(s) it applies to,\n   * and a configuration for the resulting stream(s).\n   */\n  views?: View[];\n\n  /**\n   * Configure the exemplar filter.\n   * Values include: trace_based, always_on, always_off.\n   * If omitted or null, trace_based is used.\n   */\n  exemplar_filter?: ExemplarFilter;\n}\n\nexport enum ExemplarFilter {\n  AlwaysOff = 'always_off',\n  AlwaysOn = 'always_on',\n  TraceBased = 'trace_based',\n}\n\nexport interface PeriodicMetricReader {\n  /**\n   * Configure delay interval (in milliseconds) between start of two consecutive exports.\n   * Value must be non-negative.\n   * If omitted or null, 60000 is used.\n   */\n  interval?: number;\n\n  /**\n   * Configure maximum allowed time (in milliseconds) to export data.\n   * Value must be non-negative. A value of 0 indicates no limit (infinity).\n   * If omitted or null, 30000 is used.\n   */\n  timeout?: number;\n\n  /**\n   * Configure exporter.\n   */\n  exporter: PushMetricExporter;\n\n  /**\n   * Configure metric producers.\n   */\n  producers?: MetricProducer[];\n\n  /**\n   * Configure cardinality limits.\n   */\n  cardinality_limits?: CardinalityLimits;\n}\n\nexport interface PullMetricReader {\n  /**\n   * Configure exporter.\n   */\n  exporter: PullMetricExporter;\n\n  /**\n   * Configure metric producers.\n   */\n  producers?: MetricProducer[];\n\n  /**\n   * Configure cardinality limits.\n   */\n  cardinality_limits?: CardinalityLimits;\n}\n\nexport interface CardinalityLimits {\n  /**\n   * Configure default cardinality limit for all instrument types.\n   * Instrument-specific cardinality limits take priority.\n   * If omitted or null, 2000 is used.\n   */\n  default?: number;\n\n  /**\n   * Configure default cardinality limit for counter instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  counter?: number;\n\n  /**\n   * Configure default cardinality limit for gauge instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  gauge?: number;\n\n  /**\n   * Configure default cardinality limit for histogram instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  histogram?: number;\n\n  /**\n   * Configure default cardinality limit for observable_counter instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  observable_counter?: number;\n\n  /**\n   * Configure default cardinality limit for observable_gauge instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  observable_gauge?: number;\n\n  /**\n   * Configure default cardinality limit for observable_up_down_counter instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  observable_up_down_counter?: number;\n\n  /**\n   * Configure default cardinality limit for up_down_counter instruments.\n   * If omitted or null, the value from .default is used.\n   */\n  up_down_counter?: number;\n}\n\nexport interface PushMetricExporter {\n  /**\n   * Configure exporter to be OTLP with HTTP transport.\n   */\n  otlp_http?: OtlpHttpMetricExporter;\n\n  /**\n   * Configure exporter to be OTLP with gRPC transport.\n   */\n  otlp_grpc?: OtlpGrpcMetricExporter;\n\n  /**\n   * Configure exporter to be OTLP with file transport.\n   * This type is in development and subject to breaking changes in minor versions.\n   */\n  'otlp_file/development'?: OtlpFileMetricExporter;\n\n  /**\n   * Configure exporter to be console.\n   */\n  console?: object;\n}\n\nexport interface PullMetricExporter {\n  /**\n   * Configure exporter to be prometheus.\n   * This type is in development and subject to breaking changes in minor versions.\n   */\n  'prometheus/development': PrometheusMetricExporter;\n}\n\nexport interface MetricProducer {\n  /**\n   * Configure metric producer to be opencensus.\n   */\n  opencensus?: object;\n\n  /**\n   * Configure metric producer to be prometheus.\n   */\n  prometheus?: object;\n}\n\nexport interface PrometheusMetricExporter {\n  /**\n   * Configure host.\n   * If omitted or null, localhost is used.\n   */\n  host?: string;\n\n  /**\n   * Configure port.\n   * If omitted or null, 9464 is used.\n   */\n  port?: number;\n\n  /**\n   * Configure Prometheus Exporter to produce metrics without a scope info metric.\n   * If omitted or null, false is used.\n   */\n  without_scope_info?: boolean;\n\n  /**\n   * Configure Prometheus Exporter to add resource attributes as metrics attributes.\n   */\n  with_resource_constant_labels: IncludeExclude;\n}\n\nexport interface MetricReader {\n  /**\n   * Configure a periodic metric reader.\n   */\n  periodic?: PeriodicMetricReader;\n\n  /**\n   * Configure a pull based metric reader.\n   */\n  pull?: PullMetricReader;\n}\n\nexport interface OtlpHttpMetricExporter {\n  /**\n   * Configure endpoint, including the metric specific path.\n   * If omitted or null, http://localhost:4318/v1/metrics is used.\n   */\n  endpoint?: string;\n\n  /**\n   * Configure certificate used to verify a server's TLS credentials.\n   * Absolute path to certificate file in PEM format.\n   * If omitted or null, system default certificate verification is used for secure connections.\n   */\n  certificate_file?: string;\n\n  /**\n   * Configure mTLS private client key.\n   * Absolute path to client key file in PEM format. If set, .client_certificate must also be set.\n   * If omitted or null, mTLS is not used.\n   */\n  client_key_file?: string;\n\n  /**\n   * Configure mTLS client certificate.\n   * Absolute path to client certificate file in PEM format. If set, .client_key must also be set.\n   * If omitted or null, mTLS is not used.\n   */\n  client_certificate_file?: string;\n\n  /**\n   * Configure headers. Entries have higher priority than entries from .headers_list.\n   * If an entry's .value is null, the entry is ignored.\n   */\n  headers?: NameStringValuePair[];\n\n  /**\n   * Configure headers. Entries have lower priority than entries from .headers.\n   * The value is a list of comma separated key-value pairs matching the format of OTEL_EXPORTER_OTLP_HEADERS.\n   * If omitted or null, no headers are added.\n   */\n  headers_list?: string;\n\n  /**\n   * Configure compression.\n   * Values include: gzip, none. Implementations may support other compression algorithms.\n   * If omitted or null, none is used.\n   */\n  compression?: string;\n\n  /**\n   * Configure max time (in milliseconds) to wait for each export.\n   * Value must be non-negative. A value of 0 indicates no limit (infinity).\n   * If omitted or null, 10000 is used.\n   */\n  timeout?: number;\n\n  /**\n   * Configure the encoding used for messages.\n   * Values include: protobuf, json. Implementations may not support json.\n   * If omitted or null, protobuf is used.\n   */\n  encoding?: OtlpHttpEncoding;\n\n  /**\n   * Configure temporality preference.\n   * Values include: cumulative, delta, low_memory.\n   * If omitted or null, cumulative is used.\n   */\n  temporality_preference?: ExporterTemporalityPreference;\n\n  /**\n   * Configure default histogram aggregation.\n   * Values include: explicit_bucket_histogram, base2_exponential_bucket_histogram.\n   * If omitted or null, explicit_bucket_histogram is used.\n   */\n  default_histogram_aggregation?: ExporterDefaultHistogramAggregation;\n}\n\nexport interface OtlpGrpcMetricExporter {\n  /**\n   * Configure endpoint.\n   * If omitted or null, http://localhost:4317 is used.\n   */\n  endpoint?: string;\n\n  /**\n   * Configure certificate used to verify a server's TLS credentials.\n   * Absolute path to certificate file in PEM format.\n   * If omitted or null, system default certificate verification is used for secure connections.\n   */\n  certificate_file?: string;\n\n  /**\n   * Configure mTLS private client key.\n   * Absolute path to client key file in PEM format. If set, .client_certificate must also be set.\n   * If omitted or null, mTLS is not used.\n   */\n  client_key_file?: string;\n\n  /**\n   * Configure mTLS client certificate.\n   * Absolute path to client certificate file in PEM format. If set, .client_key must also be set.\n   * If omitted or null, mTLS is not used.\n   */\n  client_certificate_file?: string;\n\n  /**\n   * Configure headers. Entries have higher priority than entries from .headers_list.\n   * If an entry's .value is null, the entry is ignored.\n   */\n  headers?: NameStringValuePair[];\n\n  /**\n   * Configure headers. Entries have lower priority than entries from .headers.\n   * The value is a list of comma separated key-value pairs matching the format of OTEL_EXPORTER_OTLP_HEADERS.\n   * If omitted or null, no headers are added.\n   */\n  headers_list?: string;\n\n  /**\n   * Configure compression.\n   * Values include: gzip, none. Implementations may support other compression algorithms.\n   * If omitted or null, none is used.\n   */\n  compression?: string;\n\n  /**\n   * Configure max time (in milliseconds) to wait for each export.\n   * Value must be non-negative. A value of 0 indicates no limit (infinity).\n   * If omitted or null, 10000 is used.\n   */\n  timeout?: number;\n\n  /**\n   * Configure client transport security for the exporter's connection.\n   * Only applicable when .endpoint is provided without http or https scheme. Implementations may choose to ignore .insecure.\n   * If omitted or null, false is used.\n   */\n  insecure?: boolean;\n\n  /**\n   * Configure temporality preference.\n   * Values include: cumulative, delta, low_memory.\n   * If omitted or null, cumulative is used.\n   */\n  temporality_preference?: ExporterTemporalityPreference;\n\n  /**\n   * Configure default histogram aggregation.\n   * Values include: explicit_bucket_histogram, base2_exponential_bucket_histogram.\n   * If omitted or null, explicit_bucket_histogram is used.\n   */\n  default_histogram_aggregation?: ExporterDefaultHistogramAggregation;\n}\n\nexport interface OtlpFileMetricExporter {\n  /**\n   * Configure output stream.\n   * Values include stdout, or scheme+destination. For example: file:///path/to/file.jsonl.\n   * If omitted or null, stdout is used.\n   */\n  output_stream?: string;\n\n  /**\n   * Configure temporality preference.\n   * Values include: cumulative, delta, low_memory.\n   * If omitted or null, cumulative is used.\n   */\n  temporality_preference?: ExporterTemporalityPreference;\n\n  /**\n   * Configure default histogram aggregation.\n   * Values include: explicit_bucket_histogram, base2_exponential_bucket_histogram.\n   * If omitted or null, explicit_bucket_histogram is used.\n   */\n  default_histogram_aggregation?: ExporterDefaultHistogramAggregation;\n}\n\nexport enum ExporterTemporalityPreference {\n  Cumulative = 'cumulative',\n  Delta = 'delta',\n  LowMemory = 'low_memory',\n}\n\nexport enum ExporterDefaultHistogramAggregation {\n  Base2ExponentialBucketHistogram = 'base2_exponential_bucket_histogram',\n  ExplicitBucketHistogram = 'explicit_bucket_histogram',\n}\n\nexport interface View {\n  /**\n   * Configure view selector.\n   */\n  selector?: ViewSelector;\n\n  /**\n   * Configure view stream.\n   */\n  stream?: ViewStream;\n}\n\nexport interface ViewSelector {\n  /**\n   * Configure instrument name selection criteria.\n   * If omitted or null, all instrument names match.\n   */\n  instrument_name?: string;\n\n  /**\n   * Configure instrument type selection criteria.\n   * Values include: counter, gauge, histogram, observable_counter, observable_gauge,\n   * observable_up_down_counter, up_down_counter.\n   * If omitted or null, all instrument types match.\n   */\n  instrument_type?: InstrumentType;\n\n  /**\n   * Configure the instrument unit selection criteria.\n   * If omitted or null, all instrument units match.\n   */\n  unit?: string;\n\n  /**\n   * Configure meter name selection criteria.\n   * If omitted or null, all meter names match.\n   */\n  meter_name?: string;\n\n  /**\n   * Configure meter version selection criteria.\n   * If omitted or null, all meter versions match.\n   */\n  meter_version?: string;\n\n  /**\n   * Configure meter schema url selection criteria.\n   * If omitted or null, all meter schema URLs match.\n   */\n  meter_schema_url?: string;\n}\n\nexport enum InstrumentType {\n  Counter = 'counter',\n  Gauge = 'gauge',\n  Histogram = 'histogram',\n  ObservableCounter = 'observable_counter',\n  ObservableGauge = 'observable_gauge',\n  ObservableUpDownCounter = 'observable_up_down_counter',\n  UpDownCounter = 'up_down_counter',\n}\n\nexport interface ViewStream {\n  /**\n   * Configure metric name of the resulting stream(s).\n   * If omitted or null, the instrument's original name is used.\n   */\n  name?: string;\n\n  /**\n   * Configure metric description of the resulting stream(s).\n   * If omitted or null, the instrument's origin description is used.\n   */\n  description?: string;\n\n  /**\n   * Configure aggregation of the resulting stream(s).\n   * Values include: default, drop, explicit_bucket_histogram, base2_exponential_bucket_histogram, last_value, sum.\n   * If omitted, default is used.\n   */\n  aggregation?: Aggregation;\n\n  /**\n   * Configure the aggregation cardinality limit.\n   * If omitted or null, the metric reader's default cardinality limit is used.\n   */\n  aggregation_cardinality_limit?: number;\n\n  /**\n   * Configure attribute keys retained in the resulting stream(s).\n   */\n  attribute_keys?: IncludeExclude;\n}\n\nexport interface Aggregation {\n  /**\n   * Configure aggregation to be default.\n   */\n  default?: object;\n\n  /**\n   * Configure aggregation to be drop.\n   */\n  drop?: object;\n\n  /**\n   * Configure aggregation to be explicit_bucket_histogram.\n   */\n  explicit_bucket_histogram?: ExplicitBucketHistogramAggregation;\n\n  /**\n   * Configure aggregation to be base2_exponential_bucket_histogram.\n   */\n  base2_exponential_bucket_histogram?: Base2ExponentialBucketHistogramAggregation;\n\n  /**\n   * Configure aggregation to be last_value.\n   */\n  last_value?: object;\n\n  /**\n   * Configure aggregation to be sum.\n   */\n  sum?: object;\n}\n\nexport interface ExplicitBucketHistogramAggregation {\n  /**\n   * Configure bucket boundaries.\n   * If omitted, [0, 5, 10, 25, 50, 75, 100, 250, 500, 750, 1000, 2500, 5000, 7500, 10000] is used.\n   */\n  boundaries?: number[];\n\n  /**\n   * Configure record min and max.\n   * If omitted or null, true is used.\n   */\n  record_min_max?: boolean;\n}\n\nexport interface Base2ExponentialBucketHistogramAggregation {\n  /**\n   * Configure max_scale.\n   */\n  max_scale?: number;\n\n  /**\n   * Configure max_size.\n   */\n  max_size?: number;\n\n  /**\n   * Configure record min and max.\n   * If omitted or null, true is used.\n   */\n  record_min_max?: boolean;\n}\n"]}