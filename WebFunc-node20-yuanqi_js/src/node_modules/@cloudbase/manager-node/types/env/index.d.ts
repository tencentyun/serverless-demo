import { Environment } from '../environment';
import { IResponseInfo, AuthDomain, EnvInfo, LoginConfigItem, ICheckTcbServiceRes, ICreatePostpayRes } from '../interfaces';
type SOURCE = 'miniapp' | 'qcloud';
interface IDeleteDomainRes {
    RequestId: string;
    Deleted: number;
}
interface IAuthDomainsRes {
    RequestId: string;
    Domains: AuthDomain[];
}
interface IListEnvRes {
    RequestId: string;
    EnvList: EnvInfo[];
}
interface IEnvLoginConfigRes {
    RequestId: string;
    ConfigList: LoginConfigItem[];
}
interface VerificationConfig {
    Type: string;
    Name: string;
    Method: string;
}
interface MFALoginConfig {
    On: string;
    Sms: string;
    Email: string;
    RequiredBindPhone: string;
    Topt: string;
}
interface PasswordUpdateLoginConfig {
    FirstLoginUpdate: boolean;
    PeriodUpdate: boolean;
    PeriodValue: number;
    PeriodType: string;
}
interface ILoginStrategy {
    Data: {
        PhoneLogin: boolean;
        EmailLogin: boolean;
        AnonymousLogin: boolean;
        UsernameLogin: boolean;
        PhoneNumberLogin: boolean;
        Mfa: boolean;
        SmsVerificationConfig: VerificationConfig;
        MfaConfig?: MFALoginConfig;
        PwdUpdateStrategy?: PasswordUpdateLoginConfig;
    };
}
interface IModifyLoginStrategy {
    EnvId: string;
    PhoneNumberLogin: boolean;
    EmailLogin: boolean;
    AnonymousLogin: boolean;
    UserNameLogin: boolean;
    SmsVerificationConfig?: VerificationConfig;
    Mfa?: boolean;
    MfaConfig?: MFALoginConfig;
    PwdUpdateStrategy?: PasswordUpdateLoginConfig;
}
interface IInitParam {
    Channel?: string;
    Source?: string;
}
interface CreateBillingDealParams {
    /** 下单操作类型 purchase 购买 | renew 续费 | modify 变配 */
    DealType: 'purchase' | 'renew' | 'modify';
    /** 购买的产品类型，可取[tcb-baas,tcb-promotion,tcb-package], 分别代表baas套餐、大促包、资源包 */
    ProductType: 'tcb-baas' | 'tcb-promotion' | 'tcb-package';
    /** 目标下单产品/套餐Id */
    PackageId: string;
    /** 是否自动支付 */
    CreateAndPay?: boolean;
    /** 购买时长 */
    TimeSpan?: number;
    /** 购买时长单位 d 天 | m 月 | y 年 | p 一次性 */
    TimeUnit?: 'd' | 'm' | 'y' | 'p';
    /** 资源唯一标识符 */
    ResourceId?: string;
    /** 来源 */
    Source?: 'qcloud' | 'miniapp';
    /** 资源别名 */
    Alias?: string;
    /** 环境id */
    EnvId?: string;
    /** 开启超限按量计费 */
    EnableExcess?: boolean;
    /** 变配目标产品/套餐id */
    ModifyPackageId?: string;
    /** jsonstr 附加信息 */
    Extension?: string;
    /** 是否自动选择代金券支付 */
    AutoVoucher?: boolean;
    /**
     * 资源类型
     * 代表新购环境（DealType=purchase 并且 ProductType=tcb-baas ）时需要发货哪些资源。
     * 可取值：flexdb, cos, cdn, scf
     */
    ResourceTypes?: string[];
}
export declare class EnvService {
    private environment;
    private envId;
    private cloudService;
    private envType?;
    private commonService;
    constructor(environment: Environment);
    /**
     * 列出所有环境
     * @returns {Promise<IListEnvRes>}
     */
    listEnvs(): Promise<IListEnvRes>;
    /**
     * 拉取安全域名列表
     * @returns {Promise<IAuthDomainsRes>}
     */
    getEnvAuthDomains(): Promise<IAuthDomainsRes>;
    /**
     * 添加环境安全域名
     * @param {string[]} domains 域名字符串数组
     * @returns {Promise<IResponseInfo>}
     */
    createEnvDomain(domains: string[]): Promise<IResponseInfo>;
    /**
     * 删除环境安全域名
     * @param {string[]} domainIds 域名字符串数组
     * @returns {Promise<IDeleteDomainRes>}
     */
    deleteEnvDomain(domains: string[]): Promise<IDeleteDomainRes>;
    /**
     * 检查tcb服务是否开通
     * @returns {Promise<ICheckTcbServiceRes>}
     * @memberof CamService
     */
    checkTcbService(): Promise<ICheckTcbServiceRes>;
    /**
     * 初始化TCB
     * @returns {Promise<IResponseInfo>}
     * @memberof EnvService
     */
    initTcb(param: IInitParam): Promise<IResponseInfo>;
    /**
     * 开通后付费套餐
     * @param {string} envId
     * @param {SOURCE} [source]
     * @returns {Promise<ICreatePostpayRes>}
     * @memberof EnvService
     */
    CreatePostpayPackage(envId: string, source?: SOURCE): Promise<ICreatePostpayRes>;
    /**
     * 销毁环境
     * @param {string} envId
     * @returns {Promise<IResponseInfo>}
     * @memberof EnvService
     */
    destroyEnv(envId: string): Promise<IResponseInfo>;
    /**
     * 获取环境信息
     * @returns {Promise<IEnvInfoRes>}
     */
    getEnvInfo(): Promise<{
        EnvInfo: EnvInfo;
        RequestId: string;
    }>;
    /**
     * 修改环境名称
     * @param {string} alias 环境名称
     * @returns {Promise<IResponseInfo>}
     */
    updateEnvInfo(alias: string): Promise<IResponseInfo>;
    /**
     * 拉取登录配置列表
     * @deprecated 请使用 getLoginConfigListV2 代替
     * @returns {Promise<IEnvLoginConfigRes>}
     */
    getLoginConfigList(): Promise<IEnvLoginConfigRes>;
    /**
     * 拉取登录配置列表
     */
    getLoginConfigListV2(): Promise<ILoginStrategy>;
    /**
     * 创建登录方式
     * 'WECHAT-OPEN'：微信开放平台
     * 'WECHAT-PUBLIC'：微信公众平台
     * @param {('WECHAT-OPEN' | 'WECHAT-PUBLIC')} platform 'WECHAT-OPEN' | 'WECHAT-PUBLIC'
     * @param {string} appId 微信 appId
     * @param {string} appSecret 微信 appSecret
     * @returns {Promise<IResponseInfo>}
     */
    createLoginConfig(platform: 'WECHAT-OPEN' | 'WECHAT-PUBLIC' | 'QQ' | 'ANONYMOUS' | 'USERNAME', appId: string, appSecret?: string): Promise<IResponseInfo>;
    /**
     * 更新登录方式配置
     * @param {string} configId 配置 Id，从配置列表中获取
     * @param {string} [status='ENABLE'] 是否启用 'ENABLE', 'DISABLE' ，可选
     * @param {string} [appId=''] 微信 appId，可选
     * @param {string} [appSecret=''] 微信 appSecret，可选
     * @returns {Promise<IResponseInfo>}
     * @deprecated 请使用 updateLoginConfigV2 代替
     */
    updateLoginConfig(configId: string, status?: string, appId?: string, appSecret?: string): Promise<IResponseInfo>;
    /**
     * 更新登录方式配置
     * @param {IModifyLoginStrategy} options
     * @returns {Promise<boolean>}
     */
    updateLoginConfigV2(options: IModifyLoginStrategy): Promise<boolean>;
    createCustomLoginKeys(): Promise<{
        PrivateKey: string;
        KeyID: string;
        RequestId: string;
    }>;
    /**
     * 创建环境订单
     */
    createBillingDeal(params: CreateBillingDealParams): Promise<{
        EnvId: string;
        TranId: string;
        RequestId: string;
    }>;
    /**
     * 取消未支付的订单
     */
    cancelDeal(params: {
        TranId: string;
        UserClientIp: string;
        WxAppId?: string;
    }): Promise<{
        RequestId: string;
    }>;
    /**
     * 删除已取消的订单
     */
    private getCOSDomains;
    private modifyCosCorsDomain;
    private getCos;
    private getStorageConfig;
}
export {};
