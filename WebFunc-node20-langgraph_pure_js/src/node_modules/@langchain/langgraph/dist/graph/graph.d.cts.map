{"version":3,"file":"graph.d.cts","names":["Runnable","RunnableConfig","Graph","DrawableGraph","All","BaseCheckpointSaver","RunnableLike","LangGraphRunnableConfig","PregelNode","Pregel","PregelParams","BaseChannel","END","Send","START","RunnableCallable","StateDefinition","StateType","BranchOptions","N","IO","BranchPathReturnValue","CallOptions","Record","Promise","NodeAction","S","U","C","Branch","Omit","NodeSpec","RunInput","RunOutput","AddNodeOptions","Nodes","NodeSpecType","Set","K","NodeInput","NodeOutput","checkpointer","interruptBefore","interruptAfter","name","CompiledGraph","State","Update","ContextType","InputType","OutputType","NodeReturnType","CommandType","StreamCustomType","builder"],"sources":["../../src/graph/graph.d.ts"],"sourcesContent":["import { Runnable, RunnableConfig } from \"@langchain/core/runnables\";\nimport { Graph as DrawableGraph } from \"@langchain/core/runnables/graph\";\nimport { All, BaseCheckpointSaver } from \"@langchain/langgraph-checkpoint\";\nimport type { RunnableLike, LangGraphRunnableConfig } from \"../pregel/runnable_types.js\";\nimport { PregelNode } from \"../pregel/read.js\";\nimport { Pregel } from \"../pregel/index.js\";\nimport type { PregelParams } from \"../pregel/types.js\";\nimport { BaseChannel } from \"../channels/base.js\";\nimport { END, Send, START } from \"../constants.js\";\nimport { RunnableCallable } from \"../utils.js\";\nimport { StateDefinition, StateType } from \"./annotation.js\";\nexport interface BranchOptions<IO, N extends string, CallOptions extends LangGraphRunnableConfig = LangGraphRunnableConfig> {\n    source: N;\n    path: RunnableLike<IO, BranchPathReturnValue, CallOptions>;\n    pathMap?: Record<string, N | typeof END> | (N | typeof END)[];\n}\nexport type BranchPathReturnValue = string | Send | (string | Send)[] | Promise<string | Send | (string | Send)[]>;\ntype NodeAction<S, U, C extends StateDefinition> = RunnableLike<S, U extends object ? U & Record<string, any> : U, LangGraphRunnableConfig<StateType<C>>>;\nexport declare class Branch<IO, N extends string, CallOptions extends LangGraphRunnableConfig = LangGraphRunnableConfig> {\n    path: Runnable<IO, BranchPathReturnValue, CallOptions>;\n    ends?: Record<string, N | typeof END>;\n    constructor(options: Omit<BranchOptions<IO, N, CallOptions>, \"source\">);\n    run(writer: (dests: (string | Send)[], config: LangGraphRunnableConfig) => Runnable | void | Promise<void>, reader?: (config: CallOptions) => IO): RunnableCallable<unknown, unknown>;\n    _route(input: IO, config: CallOptions, writer: (dests: (string | Send)[], config: LangGraphRunnableConfig) => Runnable | void | Promise<void>, reader?: (config: CallOptions) => IO): Promise<Runnable | any>;\n}\nexport type NodeSpec<RunInput, RunOutput> = {\n    runnable: Runnable<RunInput, RunOutput>;\n    metadata?: Record<string, unknown>;\n    subgraphs?: Pregel<any, any>[];\n    ends?: string[];\n    defer?: boolean;\n};\nexport type AddNodeOptions<Nodes extends string = string> = {\n    metadata?: Record<string, unknown>;\n    subgraphs?: Pregel<any, any>[];\n    ends?: Nodes[];\n    defer?: boolean;\n};\nexport declare class Graph<N extends string = typeof START | typeof END, RunInput = any, RunOutput = any, NodeSpecType extends NodeSpec<RunInput, RunOutput> = NodeSpec<RunInput, RunOutput>, C extends StateDefinition = StateDefinition> {\n    nodes: Record<N, NodeSpecType>;\n    edges: Set<[N | typeof START, N | typeof END]>;\n    branches: Record<string, Record<string, Branch<RunInput, N, any>>>;\n    entryPoint?: string;\n    compiled: boolean;\n    constructor();\n    protected warnIfCompiled(message: string): void;\n    get allEdges(): Set<[string, string]>;\n    addNode<K extends string, NodeInput = RunInput, NodeOutput = RunOutput>(nodes: Record<K, NodeAction<NodeInput, NodeOutput, C>> | [\n        key: K,\n        action: NodeAction<NodeInput, NodeOutput, C>,\n        options?: AddNodeOptions\n    ][]): Graph<N | K, RunInput, RunOutput>;\n    addNode<K extends string, NodeInput = RunInput, NodeOutput = RunOutput>(key: K, action: NodeAction<NodeInput, NodeOutput, C>, options?: AddNodeOptions): Graph<N | K, RunInput, RunOutput>;\n    addEdge(startKey: N | typeof START, endKey: N | typeof END): this;\n    addConditionalEdges(source: BranchOptions<RunInput, N, LangGraphRunnableConfig<StateType<C>>>): this;\n    addConditionalEdges(source: N, path: RunnableLike<RunInput, BranchPathReturnValue, LangGraphRunnableConfig<StateType<C>>>, pathMap?: BranchOptions<RunInput, N, LangGraphRunnableConfig<StateType<C>>>[\"pathMap\"]): this;\n    /**\n     * @deprecated use `addEdge(START, key)` instead\n     */\n    setEntryPoint(key: N): this;\n    /**\n     * @deprecated use `addEdge(key, END)` instead\n     */\n    setFinishPoint(key: N): this;\n    compile({ checkpointer, interruptBefore, interruptAfter, name }?: {\n        checkpointer?: BaseCheckpointSaver | false;\n        interruptBefore?: N[] | All;\n        interruptAfter?: N[] | All;\n        name?: string;\n    }): CompiledGraph<N>;\n    validate(interrupt?: string[]): void;\n}\nexport declare class CompiledGraph<N extends string, State = any, Update = any, ContextType extends Record<string, any> = Record<string, any>, InputType = any, OutputType = any, NodeReturnType = unknown, CommandType = unknown, StreamCustomType = any> extends Pregel<Record<N | typeof START, PregelNode<State, Update>>, Record<N | typeof START | typeof END | string, BaseChannel>, ContextType & Record<string, any>, InputType, OutputType, InputType, OutputType, NodeReturnType, CommandType, StreamCustomType> {\n    \"~NodeType\": N;\n    \"~NodeReturnType\": NodeReturnType;\n    \"~RunInput\": Update;\n    \"~RunOutput\": State;\n    builder: Graph<N, State, Update>;\n    constructor({ builder, ...rest }: {\n        builder: Graph<N, State, Update>;\n    } & PregelParams<Record<N | typeof START, PregelNode<State, Update>>, Record<N | typeof START | typeof END | string, BaseChannel>>);\n    attachNode(key: N, node: NodeSpec<State, Update>): void;\n    attachEdge(start: N | typeof START, end: N | typeof END): void;\n    attachBranch(start: N | typeof START, name: string, branch: Branch<State, N>): void;\n    /**\n     * Returns a drawable representation of the computation graph.\n     */\n    getGraphAsync(config?: RunnableConfig & {\n        xray?: boolean | number;\n    }): Promise<DrawableGraph>;\n    /**\n     * Returns a drawable representation of the computation graph.\n     *\n     * @deprecated Use getGraphAsync instead. The async method will be the default in the next minor core release.\n     */\n    getGraph(config?: RunnableConfig & {\n        xray?: boolean | number;\n    }): DrawableGraph;\n}\nexport {};\n"],"mappings":"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"}