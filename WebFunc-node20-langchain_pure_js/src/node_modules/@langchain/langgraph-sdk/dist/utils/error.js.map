{"version":3,"file":"error.js","names":[],"sources":["../../src/utils/error.ts"],"sourcesContent":["export const isError = (error: unknown): error is Error => {\n  // check for presence of `Error.isError` for newer browsers\n  if (\"isError\" in Error && typeof Error.isError === \"function\") {\n    return Error.isError(error);\n  }\n\n  // Resort to checking string tag\n  const stringTag = Object.prototype.toString.call(error);\n  return (\n    stringTag === \"[object Error]\" ||\n    stringTag === \"[object DOMException]\" ||\n    stringTag === \"[object DOMError]\" ||\n    stringTag === \"[object Exception]\"\n  );\n};\n\nconst getCauseError = (error: Error): Error | null => {\n  const { cause } = error;\n  if (typeof cause !== \"object\" || cause == null) return null;\n\n  if (!isError(cause)) return null;\n  return cause;\n};\n\nexport const isNetworkError = (error: unknown): error is Error => {\n  if (!isError(error)) return false;\n  if (error.name !== \"TypeError\" || typeof error.message !== \"string\") {\n    return false;\n  }\n  const msg = error.message.toLowerCase();\n  const causeMsg = getCauseError(error)?.message?.toLowerCase() ?? \"\";\n  return (\n    msg.includes(\"fetch\") ||\n    msg.includes(\"network\") ||\n    msg.includes(\"connection\") ||\n    msg.includes(\"error sending request\") ||\n    msg.includes(\"load failed\") ||\n    msg.includes(\"terminated\") ||\n    causeMsg.includes(\"other side closed\") ||\n    causeMsg.includes(\"socket\")\n  );\n};\n"],"mappings":";AAAA,MAAa,WAAW,UAAmC;AAEzD,KAAI,aAAa,SAAS,OAAO,MAAM,YAAY,WACjD,QAAO,MAAM,QAAQ,MAAM;CAI7B,MAAM,YAAY,OAAO,UAAU,SAAS,KAAK,MAAM;AACvD,QACE,cAAc,oBACd,cAAc,2BACd,cAAc,uBACd,cAAc;;AAIlB,MAAM,iBAAiB,UAA+B;CACpD,MAAM,EAAE,UAAU;AAClB,KAAI,OAAO,UAAU,YAAY,SAAS,KAAM,QAAO;AAEvD,KAAI,CAAC,QAAQ,MAAM,CAAE,QAAO;AAC5B,QAAO;;AAGT,MAAa,kBAAkB,UAAmC;AAChE,KAAI,CAAC,QAAQ,MAAM,CAAE,QAAO;AAC5B,KAAI,MAAM,SAAS,eAAe,OAAO,MAAM,YAAY,SACzD,QAAO;CAET,MAAM,MAAM,MAAM,QAAQ,aAAa;CACvC,MAAM,WAAW,cAAc,MAAM,EAAE,SAAS,aAAa,IAAI;AACjE,QACE,IAAI,SAAS,QAAQ,IACrB,IAAI,SAAS,UAAU,IACvB,IAAI,SAAS,aAAa,IAC1B,IAAI,SAAS,wBAAwB,IACrC,IAAI,SAAS,cAAc,IAC3B,IAAI,SAAS,aAAa,IAC1B,SAAS,SAAS,oBAAoB,IACtC,SAAS,SAAS,SAAS"}