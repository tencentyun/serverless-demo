# 自建CDN刷新函数 (ZjCdnRefresh)

## 项目简介

这是一个基于腾讯云Serverless Cloud Function (SCF) 的自建CDN刷新解决方案。当COS对象存储中有新文件上传时，自动触发CDN缓存刷新，确保用户能够访问到最新的内容。

## 功能特性

- ✅ **自动触发**：监听COS桶上传事件，自动触发CDN刷新
- ✅ **批量刷新**：支持同时刷新多个URL
- ✅ **重试机制**：内置请求重试逻辑，提高可靠性
- ✅ **安全认证**：使用HMAC-SHA256签名验证
- ✅ **错误处理**：完善的异常处理和日志记录

## 前置条件

在使用本函数前，请确保：

1. **开通CDN刷新权限**：需要通过CDN运维开通刷新权限
2. **获取刷新密钥**：获得有效的刷新ID和密钥
3. **配置CDN域名**：拥有需要刷新的CDN域名


###  环境配置
  - key: ZJ_CDN_DOMAIN
    value: "your-cdn-domain.com"  # 替换为您的CDN域名
  - key: ZJ_CDN_REFRESH_ID
    value: "your-refresh-id"      # 替换为您的刷新ID
  - key: ZJ_CDN_REFRESH_KEY
    value: "your-refresh-key"     # 替换为您的刷新密钥

## 注意事项

⚠️ **重要提醒**：

1. 仅支持腾讯自建CDN业务
2. 使用前必须通过CDN运维开通刷新权限
3. 确保环境变量配置正确
4. COS桶需要与函数在同一区域

## 版本信息

- **当前版本**：1.1.1
- **运行环境**：Python 3.9
- **更新时间**：2026-01-13

## 技术支持

如有问题或建议，请联系腾讯云社区开发者。
