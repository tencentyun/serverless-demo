{"version":3,"file":"chat_models.d.cts","names":["CallbackManagerForLLMRun","BaseChatModel","BaseChatModelCallOptions","BaseChatModelParams","BaseLLMParams","BaseMessage","AIMessage","AIMessageChunk","ChatResult","ChatGenerationChunk","Runnable","StructuredTool","StructuredOutputMethodParams","BaseLanguageModelInput","StructuredOutputMethodOptions","InteropZodType","ToolSpec","Record","FakeStreamingChatModelCallOptions","FakeStreamingChatModelFields","FakeChatModel","Promise","FakeStreamingChatModel","sleep","responses","chunks","toolStyle","thrownErrorString","______messages_message_js0","MessageToolSet","MessageStructure","AsyncGenerator","FakeChatInput","FakeListChatModelCallOptions","FakeListChatModel","RunOutput"],"sources":["../../../src/utils/testing/chat_models.d.ts"],"sourcesContent":["import { CallbackManagerForLLMRun } from \"../../callbacks/manager.js\";\nimport { BaseChatModel, BaseChatModelCallOptions, BaseChatModelParams } from \"../../language_models/chat_models.js\";\nimport { BaseLLMParams } from \"../../language_models/llms.js\";\nimport { BaseMessage, AIMessage, AIMessageChunk } from \"../../messages/index.js\";\nimport { type ChatResult, ChatGenerationChunk } from \"../../outputs.js\";\nimport { Runnable } from \"../../runnables/base.js\";\nimport { StructuredTool } from \"../../tools/index.js\";\nimport { StructuredOutputMethodParams, BaseLanguageModelInput, StructuredOutputMethodOptions } from \"../../language_models/base.js\";\nimport { InteropZodType } from \"../types/zod.js\";\n/** Minimal shape actually needed by `bindTools` */\nexport interface ToolSpec {\n    name: string;\n    description?: string;\n    schema: InteropZodType | Record<string, unknown>;\n}\n/**\n * Interface specific to the Fake Streaming Chat model.\n */\nexport interface FakeStreamingChatModelCallOptions extends BaseChatModelCallOptions {\n}\n/**\n * Interface for the Constructor-field specific to the Fake Streaming Chat model (all optional because we fill in defaults).\n */\nexport interface FakeStreamingChatModelFields extends BaseChatModelParams {\n    /** Milliseconds to pause between fallback char-by-char chunks */\n    sleep?: number;\n    /** Full AI messages to fall back to when no `chunks` supplied */\n    responses?: BaseMessage[];\n    /** Exact chunks to emit (can include tool-call deltas) */\n    chunks?: AIMessageChunk[];\n    /** How tool specs are formatted in `bindTools` */\n    toolStyle?: \"openai\" | \"anthropic\" | \"bedrock\" | \"google\";\n    /** Throw this error instead of streaming (useful in tests) */\n    thrownErrorString?: string;\n}\nexport declare class FakeChatModel extends BaseChatModel {\n    _combineLLMOutput(): never[];\n    _llmType(): string;\n    _generate(messages: BaseMessage[], options?: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): Promise<ChatResult>;\n}\nexport declare class FakeStreamingChatModel extends BaseChatModel<FakeStreamingChatModelCallOptions> {\n    sleep: number;\n    responses: BaseMessage[];\n    chunks: AIMessageChunk[];\n    toolStyle: \"openai\" | \"anthropic\" | \"bedrock\" | \"google\";\n    thrownErrorString?: string;\n    private tools;\n    constructor({ sleep, responses, chunks, toolStyle, thrownErrorString, ...rest }: FakeStreamingChatModelFields & BaseLLMParams);\n    _llmType(): string;\n    bindTools(tools: (StructuredTool | ToolSpec)[]): Runnable<BaseLanguageModelInput, AIMessageChunk<import(\"../../messages/message.js\").MessageStructure<import(\"../../messages/message.js\").MessageToolSet>>, FakeStreamingChatModelCallOptions>;\n    _generate(messages: BaseMessage[], _options: this[\"ParsedCallOptions\"], _runManager?: CallbackManagerForLLMRun): Promise<ChatResult>;\n    _streamResponseChunks(_messages: BaseMessage[], options: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): AsyncGenerator<ChatGenerationChunk>;\n}\n/**\n * Interface for the input parameters specific to the Fake List Chat model.\n */\nexport interface FakeChatInput extends BaseChatModelParams {\n    /** Responses to return */\n    responses: string[];\n    /** Time to sleep in milliseconds between responses */\n    sleep?: number;\n    emitCustomEvent?: boolean;\n    /**\n     * Generation info to include on the last chunk during streaming.\n     * This gets merged into response_metadata by the base chat model.\n     * Useful for testing response_metadata propagation (e.g., finish_reason).\n     */\n    generationInfo?: Record<string, unknown>;\n}\nexport interface FakeListChatModelCallOptions extends BaseChatModelCallOptions {\n    thrownErrorString?: string;\n}\n/**\n * A fake Chat Model that returns a predefined list of responses. It can be used\n * for testing purposes.\n * @example\n * ```typescript\n * const chat = new FakeListChatModel({\n *   responses: [\"I'll callback later.\", \"You 'console' them!\"]\n * });\n *\n * const firstMessage = new HumanMessage(\"You want to hear a JavaScript joke?\");\n * const secondMessage = new HumanMessage(\"How do you cheer up a JavaScript developer?\");\n *\n * // Call the chat model with a message and log the response\n * const firstResponse = await chat.call([firstMessage]);\n * console.log({ firstResponse });\n *\n * const secondResponse = await chat.call([secondMessage]);\n * console.log({ secondResponse });\n * ```\n */\nexport declare class FakeListChatModel extends BaseChatModel<FakeListChatModelCallOptions> {\n    static lc_name(): string;\n    lc_serializable: boolean;\n    responses: string[];\n    i: number;\n    sleep?: number;\n    emitCustomEvent: boolean;\n    generationInfo?: Record<string, unknown>;\n    private tools;\n    toolStyle: \"openai\" | \"anthropic\" | \"bedrock\" | \"google\";\n    constructor(params: FakeChatInput);\n    _combineLLMOutput(): never[];\n    _llmType(): string;\n    _generate(_messages: BaseMessage[], options?: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): Promise<ChatResult>;\n    _formatGeneration(text: string): {\n        message: AIMessage<import(\"../../messages/message.js\").MessageStructure<import(\"../../messages/message.js\").MessageToolSet>>;\n        text: string;\n    };\n    _streamResponseChunks(_messages: BaseMessage[], options: this[\"ParsedCallOptions\"], runManager?: CallbackManagerForLLMRun): AsyncGenerator<ChatGenerationChunk>;\n    _sleepIfRequested(): Promise<void>;\n    _sleep(): Promise<void>;\n    _createResponseChunk(text: string, generationInfo?: Record<string, any>): ChatGenerationChunk;\n    _currentResponse(): string;\n    _incrementResponse(): void;\n    bindTools(tools: (StructuredTool | ToolSpec)[]): Runnable<BaseLanguageModelInput, AIMessageChunk<import(\"../../messages/message.js\").MessageStructure<import(\"../../messages/message.js\").MessageToolSet>>, FakeListChatModelCallOptions>;\n    withStructuredOutput<RunOutput extends Record<string, any> = Record<string, any>>(_params: StructuredOutputMethodParams<RunOutput, false> | InteropZodType<RunOutput> | Record<string, any>, config?: StructuredOutputMethodOptions<false>): Runnable<BaseLanguageModelInput, RunOutput>;\n    withStructuredOutput<RunOutput extends Record<string, any> = Record<string, any>>(_params: StructuredOutputMethodParams<RunOutput, true> | InteropZodType<RunOutput> | Record<string, any>, config?: StructuredOutputMethodOptions<true>): Runnable<BaseLanguageModelInput, {\n        raw: BaseMessage;\n        parsed: RunOutput;\n    }>;\n}\n//# sourceMappingURL=chat_models.d.ts.map"],"mappings":"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"}