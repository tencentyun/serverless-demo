{"version":3,"file":"types.d.ts","names":["StandardSchemaV1","StandardJSONSchemaV1","StandardTypedV1","CombinedProps","Input","Output","Props","SerializableSchema","T","InferInput","InferOutput","isStandardSchema","isStandardJSONSchema","isSerializableSchema"],"sources":["../../src/state/types.d.ts"],"sourcesContent":["import type { StandardSchemaV1, StandardJSONSchemaV1, StandardTypedV1 } from \"@standard-schema/spec\";\ninterface CombinedProps<Input = unknown, Output = Input> extends StandardSchemaV1.Props<Input, Output>, StandardJSONSchemaV1.Props<Input, Output> {\n}\n/**\n * SerializableSchema is the core interface for any schema used by LangGraph state.\n *\n * @template Input - The type of input data the schema can be used to validate.\n * @template Output - The type of output produced after validation, post-refinement/coercion.\n *\n * @remarks\n * - SerializableSchema provides a single property, `~standard`, which must conform to\n *   both `StandardSchemaV1.Props` and `StandardJSONSchemaV1.Props`.\n * - This ensures all schemas are compatible with both runtime validation (e.g., type checks,\n *   coercion, custom refinements) and structured schema export/generation (e.g., producing\n *   a compatible JSON Schema).\n * - A value matching SerializableSchema can be passed directly to LangGraph state\n *   definitions, reducers, or other schema-accepting APIs.\n *\n * @example\n * ```ts\n * import { z } from \"zod\";\n *\n * // complies with SerializableSchema\n * const zodSchema = z.object({ x: z.string() });\n *\n * // Use in a StateObject definition:\n * const AgentState = new StateObject({\n *   data: schema\n * });\n * ```\n */\nexport interface SerializableSchema<Input = unknown, Output = Input> {\n    \"~standard\": CombinedProps<Input, Output>;\n}\nexport declare namespace SerializableSchema {\n    /**\n     * Infers the type of input expected by a SerializableSchema.\n     *\n     * @template T - A SerializableSchema instance.\n     * @returns The type of data that may be passed to the schema for validation.\n     *\n     * @example\n     * ```ts\n     * type MyInput = SerializableSchema.InferInput<typeof schema>;\n     * ```\n     */\n    type InferInput<T extends SerializableSchema> = StandardTypedV1.InferInput<T>;\n    /**\n     * Infers the output type yielded by a SerializableSchema, after parsing or coercion.\n     *\n     * @template T - A SerializableSchema instance.\n     * @returns The type produced by successfully validating/coercing input data.\n     *\n     * @example\n     * ```ts\n     * type MyOutput = SerializableSchema.InferOutput<typeof schema>;\n     * ```\n     */\n    type InferOutput<T extends SerializableSchema> = StandardTypedV1.InferOutput<T>;\n}\n/**\n * Type guard to check if a given value is a Standard Schema V1 object.\n *\n * @remarks\n * A Standard Schema object is expected to have a `~standard` property with a `validate` function.\n * This guard does NOT check for JSON schema support.\n *\n * @typeParam Input - The type of input validated by this schema.\n * @typeParam Output - The type of output produced after validation.\n * @param schema - The value to test.\n * @returns True if the schema conforms to the Standard Schema interface.\n *\n * @example\n * ```ts\n * if (isStandardSchema(mySchema)) {\n *   const result = mySchema[\"~standard\"].validate(input);\n * }\n * ```\n */\nexport declare function isStandardSchema<Input = unknown, Output = Input>(schema: StandardSchemaV1<Input, Output>): schema is StandardSchemaV1<Input, Output>;\nexport declare function isStandardSchema<Input = unknown, Output = Input>(schema: unknown): schema is StandardSchemaV1<Input, Output>;\n/**\n * Type guard to check if a given value is a Standard JSON Schema V1 object.\n *\n * @remarks\n * A Standard JSON Schema object is expected to have a `~standard` property with a `jsonSchema` function.\n * This may be used to generate a JSON Schema (for UI/form tooling, documentation, etc).\n *\n * @typeParam Input - The type of input described by this JSON schema.\n * @typeParam Output - The type of output described by this JSON schema.\n * @param schema - The value to test.\n * @returns True if the schema exposes JSON schema generation.\n *\n * @example\n * ```ts\n * if (isStandardJSONSchema(mySchema)) {\n *   const jschema = mySchema[\"~standard\"].jsonSchema();\n * }\n * ```\n */\nexport declare function isStandardJSONSchema<Input = unknown, Output = Input>(schema: StandardJSONSchemaV1<Input, Output>): schema is StandardJSONSchemaV1<Input, Output>;\nexport declare function isStandardJSONSchema<Input = unknown, Output = Input>(schema: unknown): schema is StandardJSONSchemaV1<Input, Output>;\n/**\n * Type guard to check if a given value is a `SerializableSchema`, i.e.\n * both a Standard Schema and a Standard JSON Schema object.\n *\n * @remarks\n * This checks for both the presence of a Standard Schema V1 interface\n * and the ability to generate a JSON schema.\n *\n * @typeParam Input - The type of input described by the schema.\n * @typeParam Output - The type of output described by the schema.\n * @param schema - The value to test.\n * @returns True if the schema is a valid `SerializableSchema`.\n *\n * @example\n * ```ts\n * if (isSerializableSchema(schema)) {\n *   schema[\"~standard\"].validate(data);\n *   const json = schema[\"~standard\"].jsonSchema();\n * }\n * ```\n */\nexport declare function isSerializableSchema<Input = unknown, Output = Input>(schema: SerializableSchema<Input, Output>): schema is SerializableSchema<Input, Output>;\nexport declare function isSerializableSchema<Input = unknown, Output = Input>(schema: unknown): schema is SerializableSchema<Input, Output>;\nexport {};\n"],"mappings":";;;UACUG,wCAAwCC,eAAeJ,gBAAAA,CAAiBM,MAAMF,OAAOC,SAASJ,oBAAAA,CAAqBK,MAAMF,OAAOC;AADrC;;;;;;;;;;AA+BrG;;;;;;;AAGA;;;;;;;;;AA6CA;;AAAmED,UAhDlDG,kBAgDkDH,CAAAA,QAAAA,OAAAA,EAAAA,SAhDLA,KAgDKA,CAAAA,CAAAA;aAAgCA,EA/ClFD,aA+CkFC,CA/CpEA,KA+CoEA,EA/C7DC,MA+C6DD,CAAAA;;AAAjBJ,kBA7CzDO,kBAAAA,CA6CyDP;;;;;AAClF;;;;;;;EA2CwBa,KAAAA,UAAAA,CAAAA,UA7EMN,kBA6Ec,CAAA,GA7EQL,eAAAA,CAAgBO,UA6ExB,CA7EmCD,CA6EnC,CAAA;EAAA;;;;;;;;;AAC5C;;OAAuEJ,WAAAA,CAAAA,UAlExCG,kBAkEwCH,CAAAA,GAlElBF,eAAAA,CAAgBQ,WAkEEN,CAlEUI,CAkEVJ,CAAAA;;;;;;;;;;;;;;;;;;;;;iBA7C/CO,2CAA2CP,eAAeJ,iBAAiBI,OAAOC,oBAAoBL,iBAAiBI,OAAOC;iBAC9HM,2CAA2CP,mCAAmCJ,iBAAiBI,OAAOC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBA2CtGQ,+CAA+CT,eAAeG,mBAAmBH,OAAOC,oBAAoBE,mBAAmBH,OAAOC;iBACtIQ,+CAA+CT,mCAAmCG,mBAAmBH,OAAOC"}