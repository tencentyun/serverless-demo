# @cloudbase/agent-adapter-langchain

å°† LangChain Agent è½¬æ¢ä¸ºç¬¦åˆ [AG-UI åè®®](https://docs.ag-ui.com) çš„ Agentã€‚

## åŠŸèƒ½

- **LangchainAgent**ï¼šå°† LangChain çš„ `createAgent()` åˆ›å»ºçš„ Agent åŒ…è£…ä¸º AG-UI å…¼å®¹çš„ Agent
- **clientTools()**ï¼šä¸­é—´ä»¶ï¼Œè®©å®¢æˆ·ç«¯å¯ä»¥åŠ¨æ€æ³¨å…¥å·¥å…·åˆ° Agent è°ƒç”¨ä¸­

## å®‰è£…

```bash
npm install @cloudbase/agent-adapter-langchain
```

## å¿«é€Ÿå¼€å§‹

```typescript
import { run } from "@cloudbase/agent-server";
import { createAgent as createLangchainAgent } from "langchain";
import { MemorySaver } from "@langchain/langgraph";
import { ChatOpenAI } from "@langchain/openai";
import { LangchainAgent, clientTools } from "@cloudbase/agent-adapter-langchain";

const checkpointer = new MemorySaver();

const model = new ChatOpenAI({
  model: process.env.OPENAI_MODEL!,
  apiKey: process.env.OPENAI_API_KEY!,
  configuration: {
    baseURL: process.env.OPENAI_BASE_URL,
  },
});

// åˆ›å»º LangChain Agentï¼Œä½¿ç”¨ clientTools ä¸­é—´ä»¶æ”¯æŒå®¢æˆ·ç«¯å·¥å…·
const lcAgent = createLangchainAgent({
  model,
  checkpointer,
  middleware: [clientTools()],
});

// éƒ¨ç½²ä¸º HTTP æœåŠ¡
run({
  createAgent: () => ({
    agent: new LangchainAgent({ agent: lcAgent }),
  }),
  port: 9000,
});
```

## API å‚è€ƒ

### LangchainAgent

å°† LangChain Agent åŒ…è£…ä¸º AG-UI å…¼å®¹çš„ Agentã€‚

```typescript
type LangchainAgentConfig = AgentConfig & {
  agent: ReturnType<typeof createAgent>; // LangChain çš„ createAgent() è¿”å›å€¼
  logger?: Logger;                        // å¯é€‰ï¼Œæ—¥å¿—å®ä¾‹
};

const agent = new LangchainAgent(config);
```

- `AgentConfig`ï¼šæ¥è‡ª [AG-UI åè®®](https://docs.ag-ui.com)
- `Logger`ï¼šæ—¥å¿—æ¥å£ï¼Œè¯¦è§ [@cloudbase/agent-server æ–‡æ¡£](https://www.npmjs.com/package/@cloudbase/agent-server)

### clientTools()

åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶ï¼Œè®©å®¢æˆ·ç«¯å¯ä»¥åŠ¨æ€æ³¨å…¥å·¥å…·åˆ° Agent è°ƒç”¨ä¸­ã€‚

```typescript
const agent = createAgent({
  model,
  checkpointer,
  middleware: [clientTools()],
});
```

å®¢æˆ·ç«¯å®šä¹‰çš„å·¥å…·ä¼šä¸æœåŠ¡ç«¯å·¥å…·åˆå¹¶ä½¿ç”¨ã€‚

## ä¾èµ–

- `langchain`ï¼šLangChain Agent æ¡†æ¶
- `@langchain/langgraph`ï¼šAgent ä¼šè¯è®°å¿†ï¼ˆMemorySaverï¼‰
- `@langchain/openai`ï¼šOpenAI å…¼å®¹æ¨¡å‹æ¥å…¥

## æ–‡æ¡£

ğŸ“š å®Œæ•´æ–‡æ¡£è¯·å‚é˜… [äº‘å¼€å‘ Agent å¼€å‘æŒ‡å—](https://docs.cloudbase.net/ai/agent-development/)

## ç›¸å…³èµ„æº

- [AG-UI åè®®](https://docs.ag-ui.com)
- [LangChain å®˜æ–¹æ–‡æ¡£](https://js.langchain.com/)

