# @cloudbase/agent-adapter-langgraph

LangGraph adapter for AG-Kit agents. This package provides integration between AG-Kit and LangGraph framework, enabling you to use LangGraph workflows with AG-Kit's agent infrastructure.

## Installation

```bash
npm install @cloudbase/agent-agents @cloudbase/agent-adapter-langgraph
```

## Features

- **LangGraphAgent**: Agent implementation that works with compiled LangGraph workflows
- **TDAISaver**: Checkpoint saver implementation using TDAI Memory
- **TDAIStore**: Store implementation for LangGraph using TDAI Memory
- **AGKitStateAnnotation**: Pre-configured state annotation for AG-Kit integration

## Usage

### Basic Agent Setup

```typescript
import { StateGraph, START, END } from "@langchain/langgraph";
import { AGKitStateAnnotation, LanggraphAgent } from "@cloudbase/agent-adapter-langgraph";
import { AgentConfig } from "@cloudbase/agent-agents/abstract";

// Create your LangGraph workflow
const workflow = new StateGraph(AGKitStateAnnotation)
  .addNode("chat_node", chatNode)
  .addEdge(START, "chat_node")
  .addEdge("chat_node", END);

const compiledWorkflow = workflow.compile();

// Create the agent
const agent = new LanggraphAgent({
  name: "my-langgraph-agent",
  description: "A LangGraph agent",
  compiledWorkflow,
});
```

### Using TDAISaver for Checkpoints

```typescript
import { TDAISaver } from "@cloudbase/agent-adapter-langgraph";
import { MemoryClient } from "@cloudbase/agent-agents";

const memoryClient = new MemoryClient({
  endpoint: "https://api.tdai.com",
  apiKey: "your-api-key",
  memoryId: "your-memory-id",
});

const checkpointer = new TDAISaver({
  endpoint: "https://api.tdai.com",
  apiKey: "your-api-key",
  memoryId: "your-memory-id",
});

const compiledWorkflow = workflow.compile({
  checkpointer,
});
```

### Using TDAIStore

```typescript
import { TDAIStore } from "@cloudbase/agent-adapter-langgraph";
import { MemoryClient } from "@cloudbase/agent-agents";

const memoryClient = new MemoryClient({
  endpoint: "https://api.tdai.com",
  apiKey: "your-api-key",
  memoryId: "your-memory-id",
});

const store = new TDAIStore({
  memoryClient,
  sessionId: "session-123",
});
```

## API Reference

### LanggraphAgent

Agent class that extends `AbstractAgent` and works with compiled LangGraph workflows.

**Constructor:**
```typescript
constructor(config: AgentConfig & { compiledWorkflow: CompiledStateGraph })
```

### TDAISaver

Checkpoint saver implementation for LangGraph using TDAI Memory.

**Constructor:**
```typescript
constructor(config: TDAISaverConfig)
```

### TDAIStore

Store implementation for LangGraph using TDAI Memory.

**Constructor:**
```typescript
constructor(config: TDAIStoreConfig)
```

## Requirements

- `@cloudbase/agent-agents`: Core agent functionality
- `@langchain/langgraph`: LangGraph framework
- `@langchain/core`: LangChain core utilities
- `rxjs`: Reactive extensions for JavaScript

## Related Resources

- [AG-Kit Documentation](https://docs.agkit.dev)
- [LangGraph Documentation](https://langchain-ai.github.io/langgraph/)
- [AG-Kit Examples](https://github.com/agkit/agkit/tree/main/typescript-sdk/packages/examples)

