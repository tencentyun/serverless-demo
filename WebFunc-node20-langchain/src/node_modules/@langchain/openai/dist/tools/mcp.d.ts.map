{"version":3,"file":"mcp.d.ts","names":["OpenAI","OpenAIClient","ServerTool","McpConnectorId","McpToolFilter","McpApprovalFilter","McpBaseOptions","Record","McpRemoteServerOptions","McpConnectorOptions","McpTool","Responses","Tool","Mcp","mcp"],"sources":["../../src/tools/mcp.d.ts"],"sourcesContent":["import { OpenAI as OpenAIClient } from \"openai\";\nimport type { ServerTool } from \"@langchain/core/tools\";\n/**\n * Available connector IDs for OpenAI's built-in service connectors.\n * These are OpenAI-maintained MCP wrappers for popular services.\n */\nexport type McpConnectorId = \"connector_dropbox\" | \"connector_gmail\" | \"connector_googlecalendar\" | \"connector_googledrive\" | \"connector_microsoftteams\" | \"connector_outlookcalendar\" | \"connector_outlookemail\" | \"connector_sharepoint\";\n/**\n * Filter object to specify which tools are allowed.\n */\nexport interface McpToolFilter {\n    /**\n     * List of allowed tool names.\n     */\n    toolNames?: string[];\n    /**\n     * Indicates whether or not a tool modifies data or is read-only.\n     * If an MCP server is annotated with `readOnlyHint`, it will match this filter.\n     */\n    readOnly?: boolean;\n}\n/**\n * Filter object for approval requirements.\n */\nexport interface McpApprovalFilter {\n    /**\n     * Tools that always require approval before execution.\n     */\n    always?: McpToolFilter;\n    /**\n     * Tools that never require approval.\n     */\n    never?: McpToolFilter;\n}\n/**\n * Base options shared between remote MCP servers and connectors.\n */\ninterface McpBaseOptions {\n    /**\n     * A label for this MCP server, used to identify it in tool calls.\n     */\n    serverLabel: string;\n    /**\n     * List of allowed tool names or a filter object.\n     * Use this to limit which tools from the MCP server are available to the model.\n     */\n    allowedTools?: string[] | McpToolFilter;\n    /**\n     * An OAuth access token for authentication with the MCP server.\n     * Your application must handle the OAuth authorization flow and provide the token here.\n     */\n    authorization?: string;\n    /**\n     * Optional HTTP headers to send to the MCP server.\n     * Use for authentication or other purposes.\n     */\n    headers?: Record<string, string>;\n    /**\n     * Specify which of the MCP server's tools require approval before execution.\n     * - `\"always\"`: All tools require approval\n     * - `\"never\"`: No tools require approval\n     * - `McpApprovalFilter`: Fine-grained control over which tools require approval\n     *\n     * @default \"always\" (approval required for all tools)\n     */\n    requireApproval?: \"always\" | \"never\" | McpApprovalFilter;\n    /**\n     * Optional description of the MCP server, used to provide more context to the model.\n     */\n    serverDescription?: string;\n}\n/**\n * Options for connecting to a remote MCP server via URL.\n */\nexport interface McpRemoteServerOptions extends McpBaseOptions {\n    /**\n     * The URL for the MCP server.\n     * The server must implement the Streamable HTTP or HTTP/SSE transport protocol.\n     */\n    serverUrl: string;\n}\n/**\n * Options for connecting to an OpenAI-maintained service connector.\n */\nexport interface McpConnectorOptions extends McpBaseOptions {\n    /**\n     * Identifier for the service connector.\n     * These are OpenAI-maintained MCP wrappers for popular services.\n     *\n     * Available connectors:\n     * - `connector_dropbox`: Dropbox file access\n     * - `connector_gmail`: Gmail email access\n     * - `connector_googlecalendar`: Google Calendar access\n     * - `connector_googledrive`: Google Drive file access\n     * - `connector_microsoftteams`: Microsoft Teams access\n     * - `connector_outlookcalendar`: Outlook Calendar access\n     * - `connector_outlookemail`: Outlook Email access\n     * - `connector_sharepoint`: SharePoint file access\n     */\n    connectorId: McpConnectorId;\n}\n/**\n * OpenAI MCP tool type for the Responses API.\n */\nexport type McpTool = OpenAIClient.Responses.Tool.Mcp;\n/**\n * Creates an MCP tool that connects to a remote MCP server or OpenAI service connector.\n * This allows OpenAI models to access external tools and services via the Model Context Protocol.\n *\n * There are two ways to use MCP tools:\n * 1. **Remote MCP servers**: Connect to any server on the public Internet that implements\n *    the MCP protocol using `serverUrl`.\n * 2. **Connectors**: Use OpenAI-maintained MCP wrappers for popular services like\n *    Google Workspace or Dropbox using `connectorId`.\n *\n * @see {@link https://platform.openai.com/docs/guides/tools-remote-mcp | OpenAI MCP Documentation}\n *\n * @param options - Configuration options for the MCP tool\n * @returns An MCP tool definition to be passed to the OpenAI Responses API\n *\n * @example\n * ```typescript\n * import { ChatOpenAI, tools } from \"@langchain/openai\";\n *\n * const model = new ChatOpenAI({ model: \"gpt-4o\" });\n *\n * // Using a remote MCP server\n * const response = await model.invoke(\"Roll 2d4+1\", {\n *   tools: [tools.mcp({\n *     serverLabel: \"dmcp\",\n *     serverDescription: \"A D&D MCP server for dice rolling\",\n *     serverUrl: \"https://dmcp-server.deno.dev/sse\",\n *     requireApproval: \"never\",\n *   })],\n * });\n *\n * // Using a connector (e.g., Google Calendar)\n * const calendarResponse = await model.invoke(\"What's on my calendar today?\", {\n *   tools: [tools.mcp({\n *     serverLabel: \"google_calendar\",\n *     connectorId: \"connector_googlecalendar\",\n *     authorization: \"<oauth-access-token>\",\n *     requireApproval: \"never\",\n *   })],\n * });\n *\n * // With tool filtering - only allow specific tools\n * const filteredResponse = await model.invoke(\"Roll some dice\", {\n *   tools: [tools.mcp({\n *     serverLabel: \"dmcp\",\n *     serverUrl: \"https://dmcp-server.deno.dev/sse\",\n *     allowedTools: [\"roll\"],  // Only allow the \"roll\" tool\n *     requireApproval: \"never\",\n *   })],\n * });\n *\n * // With fine-grained approval control\n * const controlledResponse = await model.invoke(\"Search and modify files\", {\n *   tools: [tools.mcp({\n *     serverLabel: \"deepwiki\",\n *     serverUrl: \"https://mcp.deepwiki.com/mcp\",\n *     requireApproval: {\n *       never: { toolNames: [\"ask_question\", \"read_wiki_structure\"] },\n *       // All other tools will require approval\n *     },\n *   })],\n * });\n * ```\n */\nexport declare function mcp(options: McpRemoteServerOptions): ServerTool;\nexport declare function mcp(options: McpConnectorOptions): ServerTool;\nexport {};\n//# sourceMappingURL=mcp.d.ts.map"],"mappings":";;;;;;;AAMA;AAIA;AAciBK,KAlBLF,cAAAA,GAkBsB,mBAIrBC,GAAAA,iBAIY,GAAA,0BAAA,GAAA,uBAAA,GAAA,0BAAA,GAAA,2BAAA,GAAA,wBAAA,GAAA,sBAAA;AACxB;;;AAgC0CC,UAvD1BD,aAAAA,CAuD0BC;EAAiB;AAS5D;AAUA;EAoBYK,SAAAA,CAAO,EAAA,MAAA,EAAA;EAiEKI;AACxB;;;;;;;;UAlJiBT,iBAAAA;;;;WAIJD;;;;UAIDA;;;;;UAKFE,cAAAA;;;;;;;;;4BASoBF;;;;;;;;;;YAUhBG;;;;;;;;;yCAS6BF;;;;;;;;;UAS1BG,sBAAAA,SAA+BF;;;;;;;;;;UAU/BG,mBAAAA,SAA4BH;;;;;;;;;;;;;;;eAe5BH;;;;;KAKLO,OAAAA,GAAUT,QAAAA,CAAaU,SAAAA,CAAUC,IAAAA,CAAKC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iBAiE1BC,GAAAA,UAAaN,yBAAyBN;iBACtCY,GAAAA,UAAaL,sBAAsBP"}