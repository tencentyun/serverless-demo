import { Browser, BrowserContext, Page } from "playwright";
import { EventEmitter } from "events";
export interface SandboxConnectorConfig {
    apiKey: string;
    domain?: string;
    timeout?: number;
    sessionId?: string;
}
export interface SandboxConnectionInfo {
    sandboxId: string;
    vncUrl: string;
    cdpUrl: string;
    accessToken: string;
}
/**
 * SandboxConnector manages the direct connection between E2B Sandbox and Playwright
 * Replaces the subprocess-based MCP server approach with direct CDP connection
 */
export declare class SandboxConnector extends EventEmitter {
    private config;
    private sandbox?;
    private browser?;
    private context?;
    private pages;
    private isConnected;
    private connectionInfo?;
    constructor(config: SandboxConnectorConfig);
    /**
     * Initialize the sandbox and establish CDP connection
     */
    connect(): Promise<void>;
    /**
     * Establish direct CDP connection to sandbox browser
     */
    private connectToBrowser;
    /**
     * Get Playwright Browser instance
     */
    getBrowser(): Browser;
    /**
     * Get Playwright BrowserContext instance
     */
    getContext(): BrowserContext;
    /**
     * Get Playwright Page instance by index
     */
    getPage(index?: number): Page;
    /**
     * Get all Playwright Page instances
     */
    getPages(): Page[];
    /**
     * Create new Playwright Page
     */
    createPage(): Promise<Page>;
    /**
     * Close Playwright Page by index
     */
    closePage(index: number): Promise<void>;
    /**
     * Get connection status
     */
    isReady(): boolean;
    /**
     * Get connection information
     */
    getConnectionInfo(): SandboxConnectionInfo | undefined;
    /**
     * Get VNC URL for visual debugging
     */
    getVncUrl(): string;
    /**
     * Get CDP URL for direct connection
     */
    getCdpUrl(): string;
    /**
     * Get sandbox ID
     */
    getSandboxId(): string | undefined;
    /**
     * Reconnect to sandbox if connection is lost
     */
    reconnect(): Promise<void>;
    /**
     * Disconnect and clean up resources
     */
    disconnect(killSandbox?: boolean): Promise<void>;
    /**
     * Health check for the connection
     */
    healthCheck(): Promise<boolean>;
}
//# sourceMappingURL=sandbox-connector.d.ts.map