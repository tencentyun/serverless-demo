import { C as CopilotRuntime, A as AgentRunner, a as AgentRunnerRunRequest, b as AgentRunnerConnectRequest, c as AgentRunnerIsRunningRequest, d as AgentRunnerStopRequest } from './runtime-BsuyYT2l.js';
export { e as CopilotRuntimeOptions, T as TranscribeFileOptions, f as TranscriptionService, V as VERSION } from './runtime-BsuyYT2l.js';
import * as hono_hono_base from 'hono/hono-base';
import * as hono_utils_http_status from 'hono/utils/http-status';
import { Observable } from 'rxjs';
import { BaseEvent } from '@ag-ui/client';
export { finalizeRunEvents } from '@copilotkitnext/shared';

/**
 * CORS configuration for CopilotKit endpoints.
 * When using credentials (e.g., HTTP-only cookies), you must specify an explicit origin.
 */
interface CopilotEndpointCorsConfig {
    /**
     * Allowed origin(s) for CORS. Can be:
     * - A string: exact origin (e.g., "https://myapp.com")
     * - An array: list of allowed origins
     * - A function: dynamic origin resolution
     *
     * Note: When credentials is true, origin cannot be "*"
     */
    origin: string | string[] | ((origin: string, c: any) => string | undefined | null);
    /**
     * Whether to allow credentials (cookies, HTTP authentication).
     * When true, origin must be explicitly specified (not "*").
     */
    credentials?: boolean;
}
interface CopilotEndpointParams {
    runtime: CopilotRuntime;
    basePath: string;
    /**
     * Optional CORS configuration. When not provided, defaults to allowing all origins without credentials.
     * To support HTTP-only cookies, provide cors config with credentials: true and explicit origin.
     */
    cors?: CopilotEndpointCorsConfig;
}
type CopilotEndpointContext$1 = {
    Variables: {
        modifiedRequest?: Request;
    };
};
declare function createCopilotEndpoint({ runtime, basePath, cors: corsConfig }: CopilotEndpointParams): hono_hono_base.HonoBase<CopilotEndpointContext$1, {
    [x: `${string}/agent/:agentId/run`]: {
        $post: {
            input: {
                param: {
                    agentId: string;
                };
            };
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
} & {
    [x: `${string}/agent/:agentId/connect`]: {
        $post: {
            input: {
                param: {
                    agentId: string;
                };
            };
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
} & {
    [x: `${string}/agent/:agentId/stop/:threadId`]: {
        $post: {
            input: {
                param: {
                    agentId: string;
                } & {
                    threadId: string;
                };
            };
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
} & {
    [x: `${string}/info`]: {
        $get: {
            input: {};
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
} & {
    [x: `${string}/transcribe`]: {
        $post: {
            input: {};
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
}, string, `${string}/transcribe`>;

interface CopilotSingleEndpointParams {
    runtime: CopilotRuntime;
    /**
     * Absolute path at which to mount the single-route endpoint (e.g. "/api/copilotkit").
     */
    basePath: string;
    /**
     * Optional CORS configuration. When not provided, defaults to allowing all origins without credentials.
     * To support HTTP-only cookies, provide cors config with credentials: true and explicit origin.
     */
    cors?: CopilotEndpointCorsConfig;
}
type CopilotEndpointContext = {
    Variables: {
        modifiedRequest?: Request;
    };
};
declare function createCopilotEndpointSingleRoute({ runtime, basePath, cors: corsConfig }: CopilotSingleEndpointParams): hono_hono_base.HonoBase<CopilotEndpointContext, {
    [x: string]: {
        $post: {
            input: {};
            output: {};
            outputFormat: string;
            status: hono_utils_http_status.StatusCode;
        };
    };
}, string, string>;

declare class InMemoryAgentRunner extends AgentRunner {
    run(request: AgentRunnerRunRequest): Observable<BaseEvent>;
    connect(request: AgentRunnerConnectRequest): Observable<BaseEvent>;
    isRunning(request: AgentRunnerIsRunningRequest): Promise<boolean>;
    stop(request: AgentRunnerStopRequest): Promise<boolean | undefined>;
}

export { AgentRunner, AgentRunnerConnectRequest, AgentRunnerIsRunningRequest, AgentRunnerRunRequest, AgentRunnerStopRequest, type CopilotEndpointCorsConfig, CopilotRuntime, InMemoryAgentRunner, createCopilotEndpoint, createCopilotEndpointSingleRoute };
