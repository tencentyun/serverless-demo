{"version":3,"file":"types.stream.d.ts","names":["Message","Interrupt","Metadata","Config","ThreadTask","StreamMode","ThreadStreamMode","MessageTupleMetadata","AsSubgraph","TEvent","ValuesStreamEvent","StateType","SubgraphValuesStreamEvent","MessagesTupleStreamEvent","SubgraphMessagesTupleStreamEvent","MetadataStreamEvent","ErrorStreamEvent","SubgraphErrorStreamEvent","UpdatesStreamEvent","UpdateType","SubgraphUpdatesStreamEvent","CustomStreamEvent","T","SubgraphCustomStreamEvent","MessagesMetadataStreamEvent","MessagesCompleteStreamEvent","MessagesPartialStreamEvent","TasksStreamCreateEvent","TasksStreamResultEvent","TasksStreamErrorEvent","TasksStreamEvent","SubgraphTasksStreamEvent","CheckpointsStreamEvent","SubgraphCheckpointsStreamEvent","MessagesStreamEvent","SubgraphMessagesStreamEvent","DebugStreamEvent","SubgraphDebugStreamEvent","EventsStreamEvent","Record","SubgraphEventsStreamEvent","FeedbackStreamEvent","GetStreamModeMap","TStateType","TUpdateType","TCustomType","TStreamMode","GetSubgraphsStreamModeMap","TypedAsyncGenerator","TSubgraphs","AsyncGenerator"],"sources":["../src/types.stream.d.ts"],"sourcesContent":["import type { Message } from \"./types.messages.js\";\nimport type { Interrupt, Metadata, Config, ThreadTask } from \"./schema.js\";\n/**\nimport type { SubgraphCheckpointsStreamEvent } from \"./types.stream.subgraph.js\";\n * Stream modes\n * - \"values\": Stream only the state values.\n * - \"messages\": Stream complete messages.\n * - \"messages-tuple\": Stream (message chunk, metadata) tuples.\n * - \"updates\": Stream updates to the state.\n * - \"events\": Stream events occurring during execution.\n * - \"debug\": Stream detailed debug information.\n * - \"custom\": Stream custom events.\n */\nexport type StreamMode = \"values\" | \"messages\" | \"updates\" | \"events\" | \"debug\" | \"tasks\" | \"checkpoints\" | \"custom\" | \"messages-tuple\";\nexport type ThreadStreamMode = \"run_modes\" | \"lifecycle\" | \"state_update\";\ntype MessageTupleMetadata = {\n    tags: string[];\n    [key: string]: unknown;\n};\ntype AsSubgraph<TEvent extends {\n    id?: string;\n    event: string;\n    data: unknown;\n}> = {\n    id?: TEvent[\"id\"];\n    event: TEvent[\"event\"] | `${TEvent[\"event\"]}|${string}`;\n    data: TEvent[\"data\"];\n};\n/**\n * Stream event with values after completion of each step.\n */\nexport type ValuesStreamEvent<StateType> = {\n    id?: string;\n    event: \"values\";\n    data: StateType;\n};\n/** @internal */\nexport type SubgraphValuesStreamEvent<StateType> = AsSubgraph<ValuesStreamEvent<StateType>>;\n/**\n * Stream event with message chunks coming from LLM invocations inside nodes.\n */\nexport type MessagesTupleStreamEvent = {\n    event: \"messages\";\n    data: [message: Message, config: MessageTupleMetadata];\n};\n/** @internal */\nexport type SubgraphMessagesTupleStreamEvent = AsSubgraph<MessagesTupleStreamEvent>;\n/**\n * Metadata stream event with information about the run and thread\n */\nexport type MetadataStreamEvent = {\n    id?: string;\n    event: \"metadata\";\n    data: {\n        run_id: string;\n        thread_id: string;\n    };\n};\n/**\n * Stream event with error information.\n */\nexport type ErrorStreamEvent = {\n    id?: string;\n    event: \"error\";\n    data: {\n        error: string;\n        message: string;\n    };\n};\n/** @internal */\nexport type SubgraphErrorStreamEvent = AsSubgraph<ErrorStreamEvent>;\n/**\n * Stream event with updates to the state after each step.\n * The streamed outputs include the name of the node that\n * produced the update as well as the update.\n */\nexport type UpdatesStreamEvent<UpdateType> = {\n    id?: string;\n    event: \"updates\";\n    data: {\n        [node: string]: UpdateType;\n    };\n};\n/** @internal */\nexport type SubgraphUpdatesStreamEvent<UpdateType> = AsSubgraph<UpdatesStreamEvent<UpdateType>>;\n/**\n * Streaming custom data from inside the nodes.\n */\nexport type CustomStreamEvent<T> = {\n    event: \"custom\";\n    data: T;\n};\n/** @internal */\nexport type SubgraphCustomStreamEvent<T> = AsSubgraph<CustomStreamEvent<T>>;\ntype MessagesMetadataStreamEvent = {\n    id?: string;\n    event: \"messages/metadata\";\n    data: {\n        [messageId: string]: {\n            metadata: unknown;\n        };\n    };\n};\ntype MessagesCompleteStreamEvent = {\n    id?: string;\n    event: \"messages/complete\";\n    data: Message[];\n};\ntype MessagesPartialStreamEvent = {\n    id?: string;\n    event: \"messages/partial\";\n    data: Message[];\n};\ntype TasksStreamCreateEvent<StateType> = {\n    id?: string;\n    event: \"tasks\";\n    data: {\n        id: string;\n        name: string;\n        interrupts: Interrupt[];\n        input: StateType;\n        triggers: string[];\n    };\n};\ntype TasksStreamResultEvent<UpdateType> = {\n    id?: string;\n    event: \"tasks\";\n    data: {\n        id: string;\n        name: string;\n        interrupts: Interrupt[];\n        result: [string, UpdateType][];\n    };\n};\ntype TasksStreamErrorEvent = {\n    id?: string;\n    event: \"tasks\";\n    data: {\n        id: string;\n        name: string;\n        interrupts: Interrupt[];\n        error: string;\n    };\n};\nexport type TasksStreamEvent<StateType, UpdateType> = TasksStreamCreateEvent<StateType> | TasksStreamResultEvent<UpdateType> | TasksStreamErrorEvent;\ntype SubgraphTasksStreamEvent<StateType, UpdateType> = AsSubgraph<TasksStreamCreateEvent<StateType>> | AsSubgraph<TasksStreamResultEvent<UpdateType>> | AsSubgraph<TasksStreamErrorEvent>;\nexport type CheckpointsStreamEvent<StateType> = {\n    id?: string;\n    event: \"checkpoints\";\n    data: {\n        values: StateType;\n        next: string[];\n        config: Config;\n        metadata: Metadata;\n        tasks: ThreadTask[];\n    };\n};\ntype SubgraphCheckpointsStreamEvent<StateType> = AsSubgraph<CheckpointsStreamEvent<StateType>>;\n/**\n * Message stream event specific to LangGraph Server.\n * @deprecated Use `streamMode: \"messages-tuple\"` instead.\n */\nexport type MessagesStreamEvent = MessagesMetadataStreamEvent | MessagesCompleteStreamEvent | MessagesPartialStreamEvent;\n/** @internal */\nexport type SubgraphMessagesStreamEvent = AsSubgraph<MessagesMetadataStreamEvent> | AsSubgraph<MessagesCompleteStreamEvent> | AsSubgraph<MessagesPartialStreamEvent>;\n/**\n * Stream event with detailed debug information.\n */\nexport type DebugStreamEvent = {\n    id?: string;\n    event: \"debug\";\n    data: unknown;\n};\n/** @internal */\nexport type SubgraphDebugStreamEvent = AsSubgraph<DebugStreamEvent>;\n/**\n * Stream event with events occurring during execution.\n */\nexport type EventsStreamEvent = {\n    id?: string;\n    event: \"events\";\n    data: {\n        event: `on_${\"chat_model\" | \"llm\" | \"chain\" | \"tool\" | \"retriever\" | \"prompt\"}_${\"start\" | \"stream\" | \"end\"}` | (string & {});\n        name: string;\n        tags: string[];\n        run_id: string;\n        metadata: Record<string, unknown>;\n        parent_ids: string[];\n        data: unknown;\n    };\n};\n/** @internal */\nexport type SubgraphEventsStreamEvent = AsSubgraph<EventsStreamEvent>;\n/**\n * Stream event with a feedback key to signed URL map. Set `feedbackKeys` in\n * the `RunsStreamPayload` to receive this event.\n */\nexport type FeedbackStreamEvent = {\n    id?: string;\n    event: \"feedback\";\n    data: {\n        [feedbackKey: string]: string;\n    };\n};\ntype GetStreamModeMap<TStreamMode extends StreamMode | StreamMode[], TStateType = unknown, TUpdateType = TStateType, TCustomType = unknown> = {\n    values: ValuesStreamEvent<TStateType>;\n    updates: UpdatesStreamEvent<TUpdateType>;\n    custom: CustomStreamEvent<TCustomType>;\n    debug: DebugStreamEvent;\n    messages: MessagesStreamEvent;\n    \"messages-tuple\": MessagesTupleStreamEvent;\n    tasks: TasksStreamEvent<TStateType, TUpdateType>;\n    checkpoints: CheckpointsStreamEvent<TStateType>;\n    events: EventsStreamEvent;\n}[TStreamMode extends StreamMode[] ? TStreamMode[number] : TStreamMode] | ErrorStreamEvent | MetadataStreamEvent | FeedbackStreamEvent;\ntype GetSubgraphsStreamModeMap<TStreamMode extends StreamMode | StreamMode[], TStateType = unknown, TUpdateType = TStateType, TCustomType = unknown> = {\n    values: SubgraphValuesStreamEvent<TStateType>;\n    updates: SubgraphUpdatesStreamEvent<TUpdateType>;\n    custom: SubgraphCustomStreamEvent<TCustomType>;\n    debug: SubgraphDebugStreamEvent;\n    messages: SubgraphMessagesStreamEvent;\n    \"messages-tuple\": SubgraphMessagesTupleStreamEvent;\n    events: SubgraphEventsStreamEvent;\n    tasks: SubgraphTasksStreamEvent<TStateType, TUpdateType>;\n    checkpoints: SubgraphCheckpointsStreamEvent<TStateType>;\n}[TStreamMode extends StreamMode[] ? TStreamMode[number] : TStreamMode] | SubgraphErrorStreamEvent | MetadataStreamEvent | FeedbackStreamEvent;\nexport type TypedAsyncGenerator<TStreamMode extends StreamMode | StreamMode[] = [], TSubgraphs extends boolean = false, TStateType = unknown, TUpdateType = TStateType, TCustomType = unknown> = AsyncGenerator<TSubgraphs extends true ? GetSubgraphsStreamModeMap<TStreamMode, TStateType, TUpdateType, TCustomType> : GetStreamModeMap<TStreamMode, TStateType, TUpdateType, TCustomType>>;\nexport {};\n"],"mappings":"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"}