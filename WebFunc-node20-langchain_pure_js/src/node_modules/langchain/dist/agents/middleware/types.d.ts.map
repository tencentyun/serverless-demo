{"version":3,"file":"types.d.ts","names":["InteropZodObject","InteropZodDefault","InteropZodOptional","InferInteropZodInput","InferInteropZodOutput","InteropZodToStateDefinition","AnnotationRoot","StateSchema","InferStateSchemaUpdate","StateDefinitionInit","AIMessage","SystemMessage","ToolMessage","ToolCall","Command","ClientTool","ServerTool","JumpToTarget","Runtime","AgentBuiltInState","ModelRequest","PromiseOrValue","T","Promise","AnyAnnotationRoot","MiddlewareTypeConfig","TSchema","TContextSchema","TFullContext","TTools","DefaultMiddlewareTypeConfig","NormalizedSchemaInput","InferSchemaInput","MiddlewareResult","TState","ToolCallRequest","TContext","Record","ToolCallHandler","WrapToolCallHook","WrapModelCallHandler","Omit","WrapModelCallHook","BeforeAgentHandler","Partial","BeforeAgentHook","BeforeModelHandler","BeforeModelHook","AfterModelHandler","AfterModelHook","AfterAgentHandler","AfterAgentHook","MIDDLEWARE_BRAND","AgentMiddleware","FilterPrivateProps","K","ResolveMiddlewareTypeConfig","Types","InferMiddlewareType","InferMiddlewareSchema","InferMiddlewareContextSchema","InferMiddlewareFullContext","InferMiddlewareToolsFromConfig","InferChannelType","ToAnnotationRoot","InferMiddlewareState","InferMiddlewareInputState","InferMiddlewareStates","First","Rest","InferMiddlewareInputStates","InferMergedState","InferMergedInputState","InferMiddlewareContext","InferMiddlewareContextInput","Inner","InferMiddlewareContexts","MergeContextTypes","A","B","InferMiddlewareContextInputs","InferContextInput","ContextSchema","TFields"],"sources":["../../../src/agents/middleware/types.d.ts"],"sourcesContent":["import type { InteropZodObject, InteropZodDefault, InteropZodOptional, InferInteropZodInput, InferInteropZodOutput } from \"@langchain/core/utils/types\";\nimport type { InteropZodToStateDefinition } from \"@langchain/langgraph/zod\";\nimport type { AnnotationRoot, StateSchema, InferStateSchemaUpdate, StateDefinitionInit } from \"@langchain/langgraph\";\nimport type { AIMessage, SystemMessage, ToolMessage } from \"@langchain/core/messages\";\nimport type { ToolCall } from \"@langchain/core/messages/tool\";\nimport type { Command } from \"@langchain/langgraph\";\nimport type { ClientTool, ServerTool } from \"@langchain/core/tools\";\nimport type { JumpToTarget } from \"../constants.js\";\nimport type { Runtime, AgentBuiltInState } from \"../runtime.js\";\nimport type { ModelRequest } from \"../nodes/types.js\";\ntype PromiseOrValue<T> = T | Promise<T>;\nexport type AnyAnnotationRoot = AnnotationRoot<any>;\n/**\n * Type bag that encapsulates all middleware type parameters.\n *\n * This interface bundles all the generic type parameters used throughout the middleware system\n * into a single configuration object. This pattern simplifies type signatures and makes\n * it easier to add new type parameters without changing multiple function signatures.\n *\n * @typeParam TSchema - The middleware state schema type. Can be a `StateDefinitionInit`\n *   (including `InteropZodObject`, `StateSchema`, or `AnnotationRoot`) or `undefined`.\n *\n * @typeParam TContextSchema - The middleware context schema type. Can be an `InteropZodObject`,\n *   `InteropZodDefault`, `InteropZodOptional`, or `undefined`.\n *\n * @typeParam TFullContext - The full context type available to middleware hooks.\n *\n * @typeParam TTools - The tools array type registered by the middleware.\n *\n * @example\n * ```typescript\n * // Define a type configuration\n * type MyMiddlewareTypes = MiddlewareTypeConfig<\n *   typeof myStateSchema,\n *   typeof myContextSchema,\n *   MyContextType,\n *   typeof myTools\n * >;\n * ```\n */\nexport interface MiddlewareTypeConfig<TSchema extends StateDefinitionInit | undefined = StateDefinitionInit | undefined, TContextSchema extends InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined = InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined, TFullContext = any, TTools extends readonly (ClientTool | ServerTool)[] = readonly (ClientTool | ServerTool)[]> {\n    /** The middleware state schema type */\n    Schema: TSchema;\n    /** The middleware context schema type */\n    ContextSchema: TContextSchema;\n    /** The full context type */\n    FullContext: TFullContext;\n    /** The tools array type */\n    Tools: TTools;\n}\n/**\n * Default type configuration for middleware.\n * Used when no explicit type parameters are provided.\n */\nexport type DefaultMiddlewareTypeConfig = MiddlewareTypeConfig;\nexport type NormalizedSchemaInput<TSchema extends StateDefinitionInit | undefined | never = any> = [TSchema] extends [never] ? AgentBuiltInState : TSchema extends InteropZodObject ? InferInteropZodOutput<TSchema> & AgentBuiltInState : TSchema extends StateDefinitionInit ? InferSchemaInput<TSchema> & AgentBuiltInState : AgentBuiltInState;\n/**\n * Result type for middleware functions.\n */\nexport type MiddlewareResult<TState> = (TState & {\n    jumpTo?: JumpToTarget;\n}) | void;\n/**\n * Represents a tool call request for the wrapToolCall hook.\n * Contains the tool call information along with the agent's current state and runtime.\n */\nexport interface ToolCallRequest<TState extends Record<string, unknown> = Record<string, unknown>, TContext = unknown> {\n    /**\n     * The tool call to be executed\n     */\n    toolCall: ToolCall;\n    /**\n     * The BaseTool instance being invoked.\n     * Provides access to tool metadata like name, description, schema, etc.\n     *\n     * This will be `undefined` for dynamically registered tools that aren't\n     * declared upfront when creating the agent. In such cases, middleware\n     * should provide the tool implementation by spreading the request with\n     * the tool property.\n     *\n     * @example Dynamic tool handling\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   if (request.toolCall.name === \"dynamic_tool\" && !request.tool) {\n     *     // Provide the tool implementation for dynamically registered tools\n     *     return handler({ ...request, tool: myDynamicTool });\n     *   }\n     *   return handler(request);\n     * }\n     * ```\n     */\n    tool: ClientTool | ServerTool | undefined;\n    /**\n     * The current agent state (includes both middleware state and built-in state).\n     */\n    state: TState & AgentBuiltInState;\n    /**\n     * The runtime context containing metadata, signal, writer, interrupt, etc.\n     */\n    runtime: Runtime<TContext>;\n}\n/**\n * Handler function type for wrapping tool calls.\n * Takes a tool call request and returns the tool result or a command.\n */\nexport type ToolCallHandler<TSchema extends Record<string, unknown> = AgentBuiltInState, TContext = unknown> = (request: ToolCallRequest<TSchema, TContext>) => PromiseOrValue<ToolMessage | Command>;\n/**\n * Wrapper function type for the wrapToolCall hook.\n * Allows middleware to intercept and modify tool execution.\n */\nexport type WrapToolCallHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: ToolCallRequest<NormalizedSchemaInput<TSchema>, TContext>, handler: ToolCallHandler<NormalizedSchemaInput<TSchema>, TContext>) => PromiseOrValue<ToolMessage | Command>;\n/**\n * Handler function type for wrapping model calls.\n * Takes a model request and returns the AI message response.\n *\n * @param request - The model request containing model, messages, systemPrompt, tools, state, and runtime\n * @returns The AI message response from the model\n */\nexport type WrapModelCallHandler<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: Omit<ModelRequest<NormalizedSchemaInput<TSchema>, TContext>, \n/**\n * allow to reset the system prompt or system message\n */\n\"systemPrompt\" | \"systemMessage\"> & {\n    systemPrompt?: string;\n    systemMessage?: SystemMessage;\n}) => PromiseOrValue<AIMessage>;\n/**\n * Wrapper function type for the wrapModelCall hook.\n * Allows middleware to intercept and modify model execution.\n * This enables you to:\n * - Modify the request before calling the model (e.g., change system prompt, add/remove tools)\n * - Handle errors and retry with different parameters\n * - Post-process the response\n * - Implement custom caching, logging, or other cross-cutting concerns\n *\n * @param request - The model request containing all parameters needed for the model call\n * @param handler - The function that invokes the model. Call this with a ModelRequest to get the response\n * @returns The AI message response from the model (or a modified version)\n */\nexport type WrapModelCallHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = (request: ModelRequest<NormalizedSchemaInput<TSchema>, TContext>, handler: WrapModelCallHandler<TSchema, TContext>) => PromiseOrValue<AIMessage>;\n/**\n * Handler function type for the beforeAgent hook.\n * Called once at the start of agent invocation before any model calls or tool executions.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype BeforeAgentHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the beforeAgent lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called once at the start of the agent invocation.\n */\nexport type BeforeAgentHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = BeforeAgentHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: BeforeAgentHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the beforeModel hook.\n * Called before the model is invoked and before the wrapModelCall hook.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype BeforeModelHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the beforeModel lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called before each model invocation.\n */\nexport type BeforeModelHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = BeforeModelHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: BeforeModelHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the afterModel hook.\n * Called after the model is invoked and before any tools are called.\n * Allows modifying the agent state after model invocation, e.g., to update tool call parameters.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype AfterModelHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the afterModel lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called after each model invocation.\n */\nexport type AfterModelHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = AfterModelHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: AfterModelHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Handler function type for the afterAgent hook.\n * Called once at the end of agent invocation after all model calls and tool executions are complete.\n *\n * @param state - The current agent state (includes both middleware state and built-in state)\n * @param runtime - The runtime context containing metadata, signal, writer, interrupt, etc.\n * @returns A middleware result containing partial state updates or undefined to pass through\n */\ntype AfterAgentHandler<TSchema, TContext> = (state: TSchema, runtime: Runtime<TContext>) => PromiseOrValue<MiddlewareResult<Partial<TSchema>>>;\n/**\n * Hook type for the afterAgent lifecycle event.\n * Can be either a handler function or an object with a handler and optional jump targets.\n * This hook is called once at the end of the agent invocation.\n */\nexport type AfterAgentHook<TSchema extends StateDefinitionInit | undefined = undefined, TContext = unknown> = AfterAgentHandler<NormalizedSchemaInput<TSchema>, TContext> | {\n    hook: AfterAgentHandler<NormalizedSchemaInput<TSchema>, TContext>;\n    canJumpTo?: JumpToTarget[];\n};\n/**\n * Unique symbol used to brand middleware instances.\n * This prevents functions from being accidentally assignable to AgentMiddleware\n * since functions have a 'name' property that would otherwise make them structurally compatible.\n */\nexport declare const MIDDLEWARE_BRAND: unique symbol;\n/**\n * Base middleware interface.\n *\n * @typeParam TSchema - The middleware state schema type\n * @typeParam TContextSchema - The middleware context schema type\n * @typeParam TFullContext - The full context type available to hooks\n * @typeParam TTools - The tools array type registered by the middleware\n *\n * @example\n * ```typescript\n * const middleware = createMiddleware({\n *   name: \"myMiddleware\",\n *   stateSchema: z.object({ count: z.number() }),\n *   tools: [myTool],\n * });\n * ```\n */\nexport interface AgentMiddleware<TSchema extends StateDefinitionInit | undefined = any, TContextSchema extends InteropZodObject | InteropZodDefault<InteropZodObject> | InteropZodOptional<InteropZodObject> | undefined = any, TFullContext = any, TTools extends readonly (ClientTool | ServerTool)[] = readonly (ClientTool | ServerTool)[]> {\n    /**\n     * Brand property to distinguish middleware instances from plain objects or functions.\n     * This is required and prevents accidental assignment of functions to middleware arrays.\n     */\n    readonly [MIDDLEWARE_BRAND]: true;\n    /**\n     * Type marker for extracting the MiddlewareTypeConfig from a middleware instance.\n     * This is a phantom property used only for type inference.\n     * @internal\n     */\n    readonly \"~middlewareTypes\"?: MiddlewareTypeConfig<TSchema, TContextSchema, TFullContext, TTools>;\n    /**\n     * The name of the middleware.\n     */\n    name: string;\n    /**\n     * The schema of the middleware state. Middleware state is persisted between multiple invocations. It can be either:\n     * - A Zod object (InteropZodObject)\n     * - A StateSchema from LangGraph (supports ReducedValue, UntrackedValue)\n     * - An AnnotationRoot\n     * - Undefined\n     */\n    stateSchema?: TSchema;\n    /**\n     * The schema of the middleware context. Middleware context is read-only and not persisted between multiple invocations. It can be either:\n     * - A Zod object\n     * - A Zod optional object\n     * - A Zod default object\n     * - Undefined\n     */\n    contextSchema?: TContextSchema;\n    /**\n     * Additional tools registered by the middleware.\n     */\n    tools?: TTools;\n    /**\n     * Wraps tool execution with custom logic. This allows you to:\n     * - Modify tool call parameters before execution\n     * - Handle errors and retry with different parameters\n     * - Post-process tool results\n     * - Implement caching, logging, authentication, or other cross-cutting concerns\n     * - Return Command objects for advanced control flow\n     *\n     * The handler receives a ToolCallRequest containing the tool call, state, and runtime,\n     * along with a handler function to execute the actual tool.\n     *\n     * @param request - The tool call request containing toolCall, state, and runtime.\n     * @param handler - The function that executes the tool. Call this with a ToolCallRequest to get the result.\n     * @returns The tool result as a ToolMessage or a Command for advanced control flow.\n     *\n     * @example\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   console.log(`Calling tool: ${request.tool.name}`);\n     *   console.log(`Tool description: ${request.tool.description}`);\n     *\n     *   try {\n     *     // Execute the tool\n     *     const result = await handler(request);\n     *     console.log(`Tool ${request.tool.name} succeeded`);\n     *     return result;\n     *   } catch (error) {\n     *     console.error(`Tool ${request.tool.name} failed:`, error);\n     *     // Could return a custom error message or retry\n     *     throw error;\n     *   }\n     * }\n     * ```\n     *\n     * @example Authentication\n     * ```ts\n     * wrapToolCall: async (request, handler) => {\n     *   // Check if user is authorized for this tool\n     *   if (!request.runtime.context.isAuthorized(request.tool.name)) {\n     *     return new ToolMessage({\n     *       content: \"Unauthorized to call this tool\",\n     *       tool_call_id: request.toolCall.id,\n     *     });\n     *   }\n     *   return handler(request);\n     * }\n     * ```\n     *\n     * @example Caching\n     * ```ts\n     * const cache = new Map();\n     * wrapToolCall: async (request, handler) => {\n     *   const cacheKey = `${request.tool.name}:${JSON.stringify(request.toolCall.args)}`;\n     *   if (cache.has(cacheKey)) {\n     *     return cache.get(cacheKey);\n     *   }\n     *   const result = await handler(request);\n     *   cache.set(cacheKey, result);\n     *   return result;\n     * }\n     * ```\n     */\n    wrapToolCall?: WrapToolCallHook<TSchema, TFullContext>;\n    /**\n     * Wraps the model invocation with custom logic. This allows you to:\n     * - Modify the request before calling the model\n     * - Handle errors and retry with different parameters\n     * - Post-process the response\n     * - Implement custom caching, logging, or other cross-cutting concerns\n     *\n     * @param request - The model request containing model, messages, systemPrompt, tools, state, and runtime.\n     * @param handler - The function that invokes the model. Call this with a ModelRequest to get the response.\n     * @returns The response from the model (or a modified version).\n     *\n     * @example\n     * ```ts\n     * wrapModelCall: async (request, handler) => {\n     *   // Modify request before calling\n     *   const modifiedRequest = { ...request, systemPrompt: \"You are helpful\" };\n     *\n     *   try {\n     *     // Call the model\n     *     return await handler(modifiedRequest);\n     *   } catch (error) {\n     *     // Handle errors and retry with fallback\n     *     const fallbackRequest = { ...request, model: fallbackModel };\n     *     return await handler(fallbackRequest);\n     *   }\n     * }\n     * ```\n     */\n    wrapModelCall?: WrapModelCallHook<TSchema, TFullContext>;\n    /**\n     * The function to run before the agent execution starts. This function is called once at the start of the agent invocation.\n     * It allows to modify the state of the agent before any model calls or tool executions.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    beforeAgent?: BeforeAgentHook<TSchema, TFullContext>;\n    /**\n     * The function to run before the model call. This function is called before the model is invoked and before the `wrapModelCall` hook.\n     * It allows to modify the state of the agent.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    beforeModel?: BeforeModelHook<TSchema, TFullContext>;\n    /**\n     * The function to run after the model call. This function is called after the model is invoked and before any tools are called.\n     * It allows to modify the state of the agent after the model is invoked, e.g. to update tool call parameters.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    afterModel?: AfterModelHook<TSchema, TFullContext>;\n    /**\n     * The function to run after the agent execution completes. This function is called once at the end of the agent invocation.\n     * It allows to modify the final state of the agent after all model calls and tool executions are complete.\n     *\n     * @param state - The middleware state\n     * @param runtime - The middleware runtime\n     * @returns The modified middleware state or undefined to pass through\n     */\n    afterAgent?: AfterAgentHook<TSchema, TFullContext>;\n}\n/**\n * Helper type to filter out properties that start with underscore (private properties)\n */\ntype FilterPrivateProps<T> = {\n    [K in keyof T as K extends `_${string}` ? never : K]: T[K];\n};\n/**\n * Helper type to resolve a MiddlewareTypeConfig from either:\n * - A MiddlewareTypeConfig directly\n * - An AgentMiddleware instance (using `typeof middleware`)\n */\nexport type ResolveMiddlewareTypeConfig<T> = T extends {\n    \"~middlewareTypes\"?: infer Types;\n} ? Types extends MiddlewareTypeConfig ? Types : never : T extends MiddlewareTypeConfig ? T : never;\n/**\n * Helper type to extract any property from a MiddlewareTypeConfig or AgentMiddleware.\n *\n * @typeParam T - The MiddlewareTypeConfig or AgentMiddleware to extract from\n * @typeParam K - The property key to extract (\"Schema\" | \"ContextSchema\" | \"FullContext\" | \"Tools\")\n */\nexport type InferMiddlewareType<T, K extends keyof MiddlewareTypeConfig> = ResolveMiddlewareTypeConfig<T>[K];\n/**\n * Shorthand helper to extract the Schema type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareSchema<T> = InferMiddlewareType<T, \"Schema\">;\n/**\n * Shorthand helper to extract the ContextSchema type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareContextSchema<T> = InferMiddlewareType<T, \"ContextSchema\">;\n/**\n * Shorthand helper to extract the FullContext type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareFullContext<T> = InferMiddlewareType<T, \"FullContext\">;\n/**\n * Shorthand helper to extract the Tools type from a MiddlewareTypeConfig or AgentMiddleware.\n */\nexport type InferMiddlewareToolsFromConfig<T> = InferMiddlewareType<T, \"Tools\">;\nexport type InferChannelType<T extends AnyAnnotationRoot | InteropZodObject> = T extends AnyAnnotationRoot ? ToAnnotationRoot<T>[\"State\"] : T extends InteropZodObject ? InferInteropZodInput<T> : {};\n/**\n * Helper type to infer the state schema type from a middleware\n * This filters out private properties (those starting with underscore)\n * Supports both Zod schemas (InteropZodObject) and StateSchema from LangGraph\n */\nexport type InferMiddlewareState<T extends AgentMiddleware> = T extends AgentMiddleware<infer TSchema, any, any, any> ? TSchema extends InteropZodObject ? FilterPrivateProps<InferInteropZodOutput<TSchema>> : TSchema extends StateDefinitionInit ? FilterPrivateProps<InferSchemaInput<TSchema>> : {} : {};\n/**\n * Helper type to infer the input state schema type from a middleware (all properties optional)\n * This filters out private properties (those starting with underscore)\n * Supports both Zod schemas (InteropZodObject) and StateSchema from LangGraph\n */\nexport type InferMiddlewareInputState<T extends AgentMiddleware> = T extends AgentMiddleware<infer TSchema, any, any, any> ? TSchema extends InteropZodObject ? FilterPrivateProps<InferInteropZodInput<TSchema>> : TSchema extends StateDefinitionInit ? FilterPrivateProps<InferSchemaInput<TSchema>> : {} : {};\n/**\n * Helper type to infer merged state from an array of middleware (just the middleware states)\n */\nexport type InferMiddlewareStates<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareState<First> & InferMiddlewareStates<Rest> : InferMiddlewareState<First> : {} : {};\n/**\n * Helper type to infer merged input state from an array of middleware (with optional defaults)\n */\nexport type InferMiddlewareInputStates<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareInputState<First> & InferMiddlewareInputStates<Rest> : InferMiddlewareInputState<First> : {} : {};\n/**\n * Helper type to infer merged state from an array of middleware (includes built-in state)\n */\nexport type InferMergedState<T extends readonly AgentMiddleware[]> = InferMiddlewareStates<T> & AgentBuiltInState;\n/**\n * Helper type to infer merged input state from an array of middleware (includes built-in state)\n */\nexport type InferMergedInputState<T extends readonly AgentMiddleware[]> = InferMiddlewareInputStates<T> & AgentBuiltInState;\n/**\n * Helper type to infer the context schema type from a middleware\n */\nexport type InferMiddlewareContext<T extends AgentMiddleware> = T extends AgentMiddleware<any, infer TContextSchema, any, any> ? TContextSchema extends InteropZodObject ? InferInteropZodInput<TContextSchema> : {} : {};\n/**\n * Helper type to infer the input context schema type from a middleware (with optional defaults)\n */\nexport type InferMiddlewareContextInput<T extends AgentMiddleware> = T extends AgentMiddleware<any, infer TContextSchema, any, any> ? TContextSchema extends InteropZodOptional<infer Inner> ? InferInteropZodInput<Inner> | undefined : TContextSchema extends InteropZodObject ? InferInteropZodInput<TContextSchema> : {} : {};\n/**\n * Helper type to infer merged context from an array of middleware\n */\nexport type InferMiddlewareContexts<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? InferMiddlewareContext<First> & InferMiddlewareContexts<Rest> : InferMiddlewareContext<First> : {} : {};\n/**\n * Helper to merge two context types, preserving undefined unions\n */\ntype MergeContextTypes<A, B> = [A] extends [undefined] ? [B] extends [undefined] ? undefined : B | undefined : [B] extends [undefined] ? A | undefined : [A] extends [B] ? A : [B] extends [A] ? B : A & B;\n/**\n * Helper type to infer merged input context from an array of middleware (with optional defaults)\n */\nexport type InferMiddlewareContextInputs<T extends readonly AgentMiddleware[]> = T extends readonly [] ? {} : T extends readonly [infer First, ...infer Rest] ? First extends AgentMiddleware ? Rest extends readonly AgentMiddleware[] ? MergeContextTypes<InferMiddlewareContextInput<First>, InferMiddlewareContextInputs<Rest>> : InferMiddlewareContextInput<First> : {} : {};\n/**\n * Helper type to extract input type from context schema (with optional defaults)\n */\nexport type InferContextInput<ContextSchema extends AnyAnnotationRoot | InteropZodObject> = ContextSchema extends InteropZodObject ? InferInteropZodInput<ContextSchema> : ContextSchema extends AnyAnnotationRoot ? ToAnnotationRoot<ContextSchema>[\"State\"] : {};\nexport type ToAnnotationRoot<A extends StateDefinitionInit> = A extends AnyAnnotationRoot ? A : A extends InteropZodObject ? InteropZodToStateDefinition<A> : never;\nexport type InferSchemaInput<A extends StateDefinitionInit | undefined> = A extends StateSchema<infer TFields> ? InferStateSchemaUpdate<TFields> : A extends InteropZodObject ? InferInteropZodOutput<A> : A extends AnyAnnotationRoot ? A[\"State\"] : {};\nexport {};\n//# sourceMappingURL=types.d.ts.map"],"mappings":"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"}