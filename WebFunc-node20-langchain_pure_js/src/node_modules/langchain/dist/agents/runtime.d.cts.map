{"version":3,"file":"runtime.d.cts","names":["InteropZodOptional","InteropZodDefault","Runtime","LangGraphRuntime","PregelOptions","StreamMode","BaseMessage","BaseCallbackConfig","ResponseFormatUndefined","AgentBuiltInState","Record","IsOptionalZodObject","T","IsDefaultZodObject","WithMaybeContext","TContext","Omit","Partial","InternalAgentState","StructuredResponseType","IsOptionalType","ExtractNonUndefined","IsAllOptional","CreateAgentPregelOptions","CreateAgentPregelStreamOptions","InvokeConfiguration","ContextSchema","Pick","StreamConfiguration","TStreamMode","TEncoding"],"sources":["../../src/agents/runtime.d.ts"],"sourcesContent":["import type { InteropZodOptional } from \"@langchain/core/utils/types\";\nimport type { InteropZodDefault } from \"@langchain/core/utils/types\";\nimport type { Runtime as LangGraphRuntime, PregelOptions, StreamMode } from \"@langchain/langgraph\";\nimport type { BaseMessage } from \"@langchain/core/messages\";\nimport type { BaseCallbackConfig } from \"@langchain/core/callbacks/manager\";\nimport type { ResponseFormatUndefined } from \"./responses.js\";\n/**\n * Type for the agent's built-in state properties.\n */\nexport type AgentBuiltInState = {\n    /**\n     * Array of messages representing the conversation history.\n     *\n     * This includes all messages exchanged during the agent's execution:\n     * - Human messages: Input from the user\n     * - AI messages: Responses from the language model\n     * - Tool messages: Results from tool executions\n     * - System messages: System-level instructions or information\n     *\n     * Messages are accumulated throughout the agent's lifecycle and can be\n     * accessed or modified by middleware hooks during execution.\n     */\n    messages: BaseMessage[];\n    /**\n     * Structured response data returned by the agent when a `responseFormat` is configured.\n     *\n     * This property is only populated when you provide a `responseFormat` schema\n     * (as Zod or JSON schema) to the agent configuration. The agent will format\n     * its final output to match the specified schema and store it in this property.\n     *\n     * Note: The type is specified as `Record<string, unknown>` because TypeScript cannot\n     * infer the actual response format type in contexts like middleware, where the agent's\n     * generic type parameters are not accessible. You may need to cast this to your specific\n     * response type when accessing it.\n     */\n    structuredResponse?: Record<string, unknown>;\n};\n/**\n * Type helper to check if TContext is an optional Zod schema\n */\ntype IsOptionalZodObject<T> = T extends InteropZodOptional<any> ? true : false;\ntype IsDefaultZodObject<T> = T extends InteropZodDefault<any> ? true : false;\nexport type WithMaybeContext<TContext> = undefined extends TContext ? {\n    readonly context?: TContext;\n} : IsOptionalZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : IsDefaultZodObject<TContext> extends true ? {\n    readonly context?: TContext;\n} : {\n    readonly context: TContext;\n};\n/**\n * Runtime information available to middleware (readonly).\n */\nexport type Runtime<TContext = unknown> = Partial<Omit<LangGraphRuntime<TContext>, \"context\" | \"configurable\">> & WithMaybeContext<TContext> & {\n    configurable?: {\n        thread_id?: string;\n        [key: string]: unknown;\n    };\n};\nexport type InternalAgentState<StructuredResponseType extends Record<string, unknown> | undefined = Record<string, unknown>> = {\n    messages: BaseMessage[];\n} & (StructuredResponseType extends ResponseFormatUndefined ? Record<string, never> : {\n    structuredResponse: StructuredResponseType;\n});\n/**\n * Helper type to check if a type is optional (includes undefined)\n */\ntype IsOptionalType<T> = undefined extends T ? true : false;\n/**\n * Extract non-undefined part of a union that includes undefined\n */\ntype ExtractNonUndefined<T> = T extends undefined ? never : T;\n/**\n * Helper type to check if all properties of a type are optional\n */\nexport type IsAllOptional<T> = undefined extends T ? true : IsOptionalType<T> extends true ? true : ExtractNonUndefined<T> extends Record<string, any> ? {} extends ExtractNonUndefined<T> ? true : false : IsOptionalType<T>;\n/**\n * Pregel options that are propagated to the agent\n */\ntype CreateAgentPregelOptions = \"configurable\" | \"durability\" | \"store\" | \"cache\" | \"signal\" | \"recursionLimit\" | \"maxConcurrency\" | \"timeout\" | \"callbacks\";\n/**\n * Pregel stream options that are propagated to the agent\n */\ntype CreateAgentPregelStreamOptions = \"encoding\" | \"streamMode\";\n/**\n * Decide whether provided configuration requires a context\n */\nexport type InvokeConfiguration<ContextSchema extends Record<string, any>> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : BaseCallbackConfig & Partial<Pick<PregelOptions<any, any, any>, CreateAgentPregelOptions>> & WithMaybeContext<ContextSchema>;\nexport type StreamConfiguration<ContextSchema extends Record<string, any>, TStreamMode extends StreamMode | StreamMode[] | undefined, TEncoding extends \"text/event-stream\" | undefined> = \n/**\n * If the context schema is a default object, `context` can be optional\n */\nContextSchema extends InteropZodDefault<any> ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions>> & {\n    context?: Partial<ContextSchema>;\n} : IsAllOptional<ContextSchema> extends true ? Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & {\n    context?: Partial<ContextSchema>;\n} : Partial<Pick<PregelOptions<any, any, any, TStreamMode, boolean, TEncoding>, CreateAgentPregelOptions | CreateAgentPregelStreamOptions>> & WithMaybeContext<ContextSchema>;\nexport {};\n//# sourceMappingURL=runtime.d.ts.map"],"mappings":"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"}